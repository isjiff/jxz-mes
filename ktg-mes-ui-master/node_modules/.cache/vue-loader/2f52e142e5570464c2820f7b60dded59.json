{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\index.vue","mtime":1665505269000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3RXb3Jrb3JkZXIgfSBmcm9tICJAL2FwaS9tZXMvcHJvL3dvcmtvcmRlciI7CmltcG9ydCBQYW5lbEdyb3VwIGZyb20gJy4vZGFzaGJvYXJkL1BhbmVsR3JvdXAnCmltcG9ydCBMaW5lQ2hhcnQgZnJvbSAnLi9kYXNoYm9hcmQvTGluZUNoYXJ0JwppbXBvcnQgUmFkZGFyQ2hhcnQgZnJvbSAnLi9kYXNoYm9hcmQvUmFkZGFyQ2hhcnQnCmltcG9ydCBQaWVDaGFydCBmcm9tICcuL2Rhc2hib2FyZC9QaWVDaGFydCcKaW1wb3J0IEJhckNoYXJ0IGZyb20gJy4vZGFzaGJvYXJkL0JhckNoYXJ0JwoKY29uc3QgbGluZUNoYXJ0RGF0YSA9IHsKICBuZXdWaXNpdGlzOiB7CiAgICBleHBlY3RlZERhdGE6IFsxMDAsIDEyMCwgMTYxLCAxMzQsIDEwNSwgMTYwLCAxNjVdLAogICAgYWN0dWFsRGF0YTogWzEyMCwgODIsIDkxLCAxNTQsIDE2MiwgMTQwLCAxNDVdCiAgfSwKICBtZXNzYWdlczogewogICAgZXhwZWN0ZWREYXRhOiBbMjAwLCAxOTIsIDEyMCwgMTQ0LCAxNjAsIDEzMCwgMTQwXSwKICAgIGFjdHVhbERhdGE6IFsxODAsIDE2MCwgMTUxLCAxMDYsIDE0NSwgMTUwLCAxMzBdCiAgfSwKICBwdXJjaGFzZXM6IHsKICAgIGV4cGVjdGVkRGF0YTogWzgwLCAxMDAsIDEyMSwgMTA0LCAxMDUsIDkwLCAxMDBdLAogICAgYWN0dWFsRGF0YTogWzEyMCwgOTAsIDEwMCwgMTM4LCAxNDIsIDEzMCwgMTMwXQogIH0sCiAgc2hvcHBpbmdzOiB7CiAgICBleHBlY3RlZERhdGE6IFsxMzAsIDE0MCwgMTQxLCAxNDIsIDE0NSwgMTUwLCAxNjBdLAogICAgYWN0dWFsRGF0YTogWzEyMCwgODIsIDkxLCAxNTQsIDE2MiwgMTQwLCAxMzBdCiAgfQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0luZGV4JywKICBjb21wb25lbnRzOiB7CiAgICBQYW5lbEdyb3VwLAogICAgTGluZUNoYXJ0LAogICAgUmFkZGFyQ2hhcnQsCiAgICBQaWVDaGFydCwKICAgIEJhckNoYXJ0CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAgIHF1ZXJ5UGFyYW1zOiB7fSwKICAgICAgICB3b3Jrb3JkZXJMaXN0OiBbXSwKICAgICAgICBsaW5lQ2hhcnREYXRhOiBsaW5lQ2hhcnREYXRhLm5ld1Zpc2l0aXMKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBsaXN0V29ya29yZGVyKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMud29ya29yZGVyTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNldExpbmVDaGFydERhdGEodHlwZSkgewogICAgICB0aGlzLmxpbmVDaGFydERhdGEgPSBsaW5lQ2hhcnREYXRhW3R5cGVdCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"dashboard-editor-container\">\n\n    <panel-group @handleSetLineChartData=\"handleSetLineChartData\" />\n\n    <el-row :gutter=\"32\" style=\"padding:16px 16px 0;margin-bottom:32px;\">\n        <el-card>\n            <div slot=\"header\" class=\"clearfix\">\n                <span>生产进度</span>\n            </div>\n            <el-table\n                v-loading=\"loading\"\n                :data=\"workorderList\"\n                row-key=\"workorderId\"\n                default-expand-all\n                :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\n                >\n                <el-table-column label=\"工单编码\" width=\"180\" prop=\"workorderCode\" >\n                    <template slot-scope=\"scope\">\n                    <el-button\n                        size=\"mini\"\n                        type=\"text\"\n                        @click=\"handleView(scope.row)\"\n                        v-hasPermi=\"['mes:pro:workorder:query']\"\n                    >{{scope.row.workorderCode}}</el-button>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"订单编号\" width=\"140\" align=\"center\" prop=\"sourceCode\" />            \n                <el-table-column label=\"客户名称\" align=\"center\" prop=\"clientName\" :show-overflow-tooltip=\"true\"/>\n                <el-table-column label=\"产品编号\" width=\"120\" align=\"center\" prop=\"productCode\" />\n                <el-table-column label=\"产品名称\" width=\"250px\" align=\"center\" prop=\"productName\" :show-overflow-tooltip=\"true\"/>\n                <el-table-column label=\"规格型号\" align=\"center\" prop=\"productSpc\" :show-overflow-tooltip=\"true\"/>\n                <el-table-column label=\"单位\" align=\"center\" prop=\"unitOfMeasure\" />\n                <el-table-column label=\"生产进度\" align=\"center\" width=\"200px\" >\n                    <template slot-scope=\"scope\">\n                        <el-progress :text-inside=\"true\" :stroke-width=\"20\" :percentage=\"scope.row.quantityProduced/scope.row.quantity*100\"></el-progress>\n                    </template>\n                </el-table-column>            \n                <el-table-column label=\"需求日期\" align=\"center\" prop=\"requestDate\" width=\"180\">\n                    <template slot-scope=\"scope\">\n                    <span>{{ parseTime(scope.row.requestDate, '{y}-{m}-{d}') }}</span>\n                    </template>\n                </el-table-column>         \n            </el-table>\n        </el-card>\n    </el-row>\n    \n    <el-row style=\"background:#fff;padding:16px 16px 0; margin-bottom:32px;\">\n      <line-chart :chart-data=\"lineChartData\" />\n    </el-row>\n\n    <el-row :gutter=\"32\">\n      <el-col :xs=\"24\" :sm=\"24\" :lg=\"8\">\n        <div class=\"chart-wrapper\">\n          <raddar-chart />\n        </div>\n      </el-col>\n      <el-col :xs=\"24\" :sm=\"24\" :lg=\"8\">\n        <div class=\"chart-wrapper\">\n          <pie-chart />\n        </div>\n      </el-col>\n      <el-col :xs=\"24\" :sm=\"24\" :lg=\"8\">\n        <div class=\"chart-wrapper\">\n          <bar-chart />\n        </div>\n      </el-col>\n    </el-row>\n\n    \n  </div>\n</template>\n\n<script>\nimport { listWorkorder } from \"@/api/mes/pro/workorder\";\nimport PanelGroup from './dashboard/PanelGroup'\nimport LineChart from './dashboard/LineChart'\nimport RaddarChart from './dashboard/RaddarChart'\nimport PieChart from './dashboard/PieChart'\nimport BarChart from './dashboard/BarChart'\n\nconst lineChartData = {\n  newVisitis: {\n    expectedData: [100, 120, 161, 134, 105, 160, 165],\n    actualData: [120, 82, 91, 154, 162, 140, 145]\n  },\n  messages: {\n    expectedData: [200, 192, 120, 144, 160, 130, 140],\n    actualData: [180, 160, 151, 106, 145, 150, 130]\n  },\n  purchases: {\n    expectedData: [80, 100, 121, 104, 105, 90, 100],\n    actualData: [120, 90, 100, 138, 142, 130, 130]\n  },\n  shoppings: {\n    expectedData: [130, 140, 141, 142, 145, 150, 160],\n    actualData: [120, 82, 91, 154, 162, 140, 130]\n  }\n}\n\nexport default {\n  name: 'Index',\n  components: {\n    PanelGroup,\n    LineChart,\n    RaddarChart,\n    PieChart,\n    BarChart\n  },\n  data() {\n    return {\n        loading: true,\n        queryParams: {},\n        workorderList: [],\n        lineChartData: lineChartData.newVisitis\n    }\n  },\n  created(){\n      this.getList();\n  },\n  methods: {\n    getList() {\n      this.loading = true;\n      listWorkorder(this.queryParams).then(response => {\n        this.workorderList = response.data;\n        this.loading = false;\n      });\n    },\n    handleSetLineChartData(type) {\n      this.lineChartData = lineChartData[type]\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dashboard-editor-container {\n  padding: 32px;\n  background-color: rgb(240, 242, 245);\n  position: relative;\n\n  .chart-wrapper {\n    background: #fff;\n    padding: 16px 16px 0;\n    margin-bottom: 32px;\n  }\n}\n\n@media (max-width:1024px) {\n  .chart-wrapper {\n    padding: 8px;\n  }\n}\n</style>\n"]}]}