{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\components\\workorderSelect\\single.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\components\\workorderSelect\\single.vue","mtime":1665505269000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\babel.config.js","mtime":1665505269000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3dvcmtvcmRlciA9IHJlcXVpcmUoIkAvYXBpL21lcy9wcm8vd29ya29yZGVyIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ1dvcmtPcmRlclNlbGVjdFNpbmdsZScsCiAgY29tcG9uZW50czoge30sCiAgZGljdHM6IFsnbWVzX29yZGVyX3N0YXR1cycsICdtZXNfd29ya29yZGVyX3NvdXJjZXR5cGUnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0ZsYWc6IGZhbHNlLAogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIHNlbGVjdGVkV29ya29yZGVySWQ6IHVuZGVmaW5lZCwKICAgICAgc2VsZWN0ZWRSb3dzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDnlJ/kuqflt6XljZXooajmoLzmlbDmja4KICAgICAgd29ya29yZGVyTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgd29ya29yZGVyQ29kZTogbnVsbCwKICAgICAgICB3b3Jrb3JkZXJOYW1lOiBudWxsLAogICAgICAgIG9yZGVyU291cmNlOiBudWxsLAogICAgICAgIHNvdXJjZUNvZGU6IG51bGwsCiAgICAgICAgcHJvZHVjdElkOiBudWxsLAogICAgICAgIHByb2R1Y3RDb2RlOiBudWxsLAogICAgICAgIHByb2R1Y3ROYW1lOiBudWxsLAogICAgICAgIHByb2R1Y3RTcGM6IG51bGwsCiAgICAgICAgdW5pdE9mTWVhc3VyZTogbnVsbCwKICAgICAgICBxdWFudGl0eTogbnVsbCwKICAgICAgICBxdWFudGl0eVByb2R1Y2VkOiBudWxsLAogICAgICAgIHF1YW50aXR5Q2hhbmdlZDogbnVsbCwKICAgICAgICBxdWFudGl0eVNjaGVkdWxlZDogbnVsbCwKICAgICAgICBjbGllbnRJZDogbnVsbCwKICAgICAgICBjbGllbnRDb2RlOiBudWxsLAogICAgICAgIGNsaWVudE5hbWU6IG51bGwsCiAgICAgICAgcmVxdWVzdERhdGU6IG51bGwsCiAgICAgICAgcGFyZW50SWQ6IG51bGwsCiAgICAgICAgYW5jZXN0b3JzOiBudWxsLAogICAgICAgIHN0YXR1czogJ0NPTkZJUk1FRCcKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6LnlJ/kuqflt6XljZXliJfooaggKi8KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAoMCwgX3dvcmtvcmRlci5saXN0V29ya29yZGVyKSh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLndvcmtvcmRlckxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAoKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KICAgIHJlc2V0UXVlcnk6IGZ1bmN0aW9uIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnQ6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnQocm93KSB7CiAgICAgIGlmIChyb3cpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IHJvdzsKICAgICAgfQogICAgfSwKICAgIC8vIOWNlemAiemAieS4reaVsOaNrgogICAgaGFuZGxlUm93Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVSb3dDaGFuZ2Uocm93KSB7CiAgICAgIGlmIChyb3cpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IHJvdzsKICAgICAgfQogICAgfSwKICAgIC8v5Y+M5Ye76YCJ5LitCiAgICBoYW5kbGVSb3dEYkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVSb3dEYkNsaWNrKHJvdykgewogICAgICBpZiAocm93KSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSByb3c7CiAgICAgICAgdGhpcy4kZW1pdCgnb25TZWxlY3RlZCcsIHRoaXMuc2VsZWN0ZWRSb3dzKTsKICAgICAgICB0aGlzLnNob3dGbGFnID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvL+ehruWumumAieS4rQogICAgY29uZmlybVNlbGVjdDogZnVuY3Rpb24gY29uZmlybVNlbGVjdCgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRXb3Jrb3JkZXJJZCA9PSBudWxsIHx8IHRoaXMuc2VsZWN0ZWRXb3Jrb3JkZXJJZCA9PSAwKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7foh7PlsJHpgInmi6nkuIDmnaHmlbDmja4hJwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kZW1pdCgnb25TZWxlY3RlZCcsIHRoaXMuc2VsZWN0ZWRSb3dzKTsKICAgICAgdGhpcy5zaG93RmxhZyA9IGZhbHNlOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;AAoGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA,6BADA;EAEAC,cAFA;EAGAC,uDAHA;EAIAC,IAJA,kBAIA;IACA;MACAC,eADA;MAEA;MACAC,aAHA;MAIA;MACAC,8BALA;MAMAC,gBANA;MAOA;MACAC,YARA;MASA;MACAC,cAVA;MAWA;MACAC,gBAZA;MAaA;MACAC,QAdA;MAeA;MACAC,iBAhBA;MAiBA;MACAC,SAlBA;MAmBA;MACAC,WApBA;MAqBA;MACAC;QACAC,mBADA;QAEAC,mBAFA;QAGAC,iBAHA;QAIAC,gBAJA;QAKAC,eALA;QAMAC,iBANA;QAOAC,iBAPA;QAQAC,gBARA;QASAC,mBATA;QAUAC,cAVA;QAWAC,sBAXA;QAYAC,qBAZA;QAaAC,uBAbA;QAcAC,cAdA;QAeAC,gBAfA;QAgBAC,gBAhBA;QAiBAC,iBAjBA;QAkBAC,cAlBA;QAmBAC,eAnBA;QAoBAC;MApBA;IAtBA;EA8CA,CAnDA;EAoDAC,OApDA,qBAoDA;IACA;EACA,CAtDA;EAuDAC;IACA;IACAC,OAFA,qBAEA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CARA;;IASA;IACAC,WAVA,yBAUA;MACA;IACA,CAZA;;IAaA;IACAC,UAdA,wBAcA;MACA;MACA;IACA,CAjBA;IAkBAC,aAlBA,yBAkBAC,GAlBA,EAkBA;MACA;QACA;MACA;IACA,CAtBA;IAuBA;IACAC,eAxBA,2BAwBAD,GAxBA,EAwBA;MACA;QACA;MACA;IACA,CA5BA;IA6BA;IACAE,gBA9BA,4BA8BAF,GA9BA,EA8BA;MACA;QACA;QACA;QACA;MACA;IACA,CApCA;IAqCA;IACAG,aAtCA,2BAsCA;MACA;QACA;UACAhC,WADA;UAEAiC,eAFA;UAGAC;QAHA;QAKA;MACA;;MACA;MACA;IACA;EAjDA;AAvDA,C","names":["name","components","dicts","data","showFlag","loading","selectedWorkorderId","selectedRows","single","multiple","showSearch","total","workorderList","title","open","queryParams","workorderCode","workorderName","orderSource","sourceCode","productId","productCode","productName","productSpc","unitOfMeasure","quantity","quantityProduced","quantityChanged","quantityScheduled","clientId","clientCode","clientName","requestDate","parentId","ancestors","status","created","methods","getList","handleQuery","resetQuery","handleCurrent","row","handleRowChange","handleRowDbClick","confirmSelect","type","message"],"sourceRoot":"src/components/workorderSelect","sources":["single.vue"],"sourcesContent":["<template>\n    <el-dialog title=\"工作站选择\"\n    v-if=\"showFlag\"\n    :visible.sync=\"showFlag\"\n    :modal= false\n    width=\"80%\"\n    center\n  >\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item label=\"工单编码\" prop=\"workorderCode\">\n        <el-input\n          v-model=\"queryParams.workorderCode\"\n          placeholder=\"请输入工单编码\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"工单名称\" prop=\"workorderName\">\n        <el-input\n          v-model=\"queryParams.workorderName\"\n          placeholder=\"请输入工单名称\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"产品编号\" prop=\"productCode\">\n        <el-input\n          v-model=\"queryParams.productCode\"\n          placeholder=\"请输入产品编号\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"产品名称\" prop=\"productName\">\n        <el-input\n          v-model=\"queryParams.productName\"\n          placeholder=\"请输入产品名称\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n\n\n      <el-form-item label=\"客户名称\" prop=\"clientName\">\n        <el-input\n          v-model=\"queryParams.clientName\"\n          placeholder=\"请输入客户名称\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      \n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table v-loading=\"loading\" :data=\"workorderList\" @current-change=\"handleCurrent\" @row-dblclick=\"handleRowDbClick\">\n        <el-table-column width=\"55\" align=\"center\" >\n            <template v-slot=\"scope\">\n                <el-radio v-model=\"selectedWorkorderId\" :label=\"scope.row.workorderId\" @change=\"handleRowChange(scope.row)\">{{\"\"}}</el-radio>\n            </template>\n        </el-table-column>\n        <el-table-column label=\"工单编码\" width=\"180\" prop=\"workorderCode\" >\n        </el-table-column>\n        <el-table-column label=\"工单名称\" width=\"200\" align=\"center\" prop=\"workorderName\" :show-overflow-tooltip=\"true\"/>\n        <el-table-column label=\"工单来源\" align=\"center\" prop=\"orderSource\" >\n            <template slot-scope=\"scope\">\n                <dict-tag :options=\"dict.type.mes_workorder_sourcetype\" :value=\"scope.row.orderSource\"/>\n            </template>\n        </el-table-column>\n        <el-table-column label=\"订单编号\" width=\"140\" align=\"center\" prop=\"sourceCode\" />\n        <el-table-column label=\"产品编号\" width=\"120\" align=\"center\" prop=\"productCode\" />\n        <el-table-column label=\"产品名称\" width=\"200\" align=\"center\" prop=\"productName\" :show-overflow-tooltip=\"true\"/>\n        <el-table-column label=\"规格型号\" align=\"center\" prop=\"productSpc\" :show-overflow-tooltip=\"true\"/>\n        <el-table-column label=\"单位\" align=\"center\" prop=\"unitOfMeasure\" />\n        <el-table-column label=\"工单数量\" align=\"center\" prop=\"quantity\" />                 \n        <el-table-column label=\"客户编码\" align=\"center\" prop=\"clientCode\" />\n        <el-table-column label=\"客户名称\" align=\"center\" prop=\"clientName\" :show-overflow-tooltip=\"true\"/>\n        <el-table-column label=\"需求日期\" align=\"center\" prop=\"requestDate\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span>{{ parseTime(scope.row.requestDate, '{y}-{m}-{d}') }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n    <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"confirmSelect\">确 定</el-button>\n        <el-button @click=\"showFlag=false\">取 消</el-button>\n    </div>\n  </el-dialog>\n\n</template>\n<script>\n    import { listWorkorder} from \"@/api/mes/pro/workorder\";\n    export default {\n        name: 'WorkOrderSelectSingle',\n        components: {},\n        dicts: ['mes_order_status','mes_workorder_sourcetype'],\n        data() {\n            return {\n                showFlag: false,\n                // 遮罩层\n                loading: true,\n                // 选中数组\n                selectedWorkorderId: undefined,\n                selectedRows: [],\n                 // 非单个禁用\n                single: true,\n                // 非多个禁用\n                multiple: true,\n                // 显示搜索条件\n                showSearch: true,\n                // 总条数\n                total: 0,\n                 // 生产工单表格数据\n                workorderList: [],\n                 // 弹出层标题\n                title: \"\",\n                // 是否显示弹出层\n                open: false,\n                // 查询参数\n                queryParams: {\n                    workorderCode: null,\n                    workorderName: null,\n                    orderSource: null,\n                    sourceCode: null,\n                    productId: null,\n                    productCode: null,\n                    productName: null,\n                    productSpc: null,\n                    unitOfMeasure: null,\n                    quantity: null,\n                    quantityProduced: null,\n                    quantityChanged: null,\n                    quantityScheduled: null,\n                    clientId: null,\n                    clientCode: null,\n                    clientName: null,\n                    requestDate: null,\n                    parentId: null,\n                    ancestors: null,\n                    status: 'CONFIRMED',\n                },\n\n            }\n        },\n        created() {\n            this.getList();\n        },\n        methods:{\n            /** 查询生产工单列表 */\n            getList() {\n                this.loading = true;\n                listWorkorder(this.queryParams).then(response => {\n                    this.workorderList = response.data;\n                    this.loading = false;\n                });\n            },\n            /** 搜索按钮操作 */\n            handleQuery() {\n                this.getList();\n            },\n            /** 重置按钮操作 */\n            resetQuery() {\n                this.resetForm(\"queryForm\");\n                this.handleQuery();\n            },\n            handleCurrent(row){\n                if(row){\n                    this.selectedRows = row;\n                }\n            },\n            // 单选选中数据\n            handleRowChange(row) {\n                if(row){\n                    this.selectedRows = row;\n                }\n            },\n            //双击选中\n            handleRowDbClick(row){\n                if(row){\n                    this.selectedRows = row;\n                    this.$emit('onSelected',this.selectedRows);\n                    this.showFlag = false;\n                }\n            },\n            //确定选中\n            confirmSelect(){\n                if(this.selectedWorkorderId == null || this.selectedWorkorderId == 0){\n                    this.$notify({\n                        title:'提示',\n                        type:'warning',\n                        message: '请至少选择一条数据!'\n                    });\n                    return;\n                }\n                this.$emit('onSelected',this.selectedRows);\n                this.showFlag = false;\n            }\n        }\n    }\n</script>"]}]}