{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\md\\mditem\\components\\sop.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\md\\mditem\\components\\sop.vue","mtime":1665505269000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\babel.config.js","mtime":1665505269000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9yZXNvdXJjZS9lY2xpcHNlLXdvcmtzcGFjZS9rdGctbWVzLW1hc3Rlci9rdGctbWVzLXVpLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKCnZhciBfc29wID0gcmVxdWlyZSgiQC9hcGkvbWVzL21kL3NvcCIpOwoKdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9jb21wb25lbnRzL0ltYWdlVXBsb2FkL2luZGV4LnZ1ZSIpKTsKCnZhciBfcHJvY2VzcyA9IHJlcXVpcmUoIkAvYXBpL21lcy9wcm8vcHJvY2VzcyIpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJTT1BUYWIiLAogIGNvbXBvbmVudHM6IHsKICAgIEltYWdlVXBsb2FkOiBfaW5kZXguZGVmYXVsdAogIH0sCiAgcHJvcHM6IHsKICAgIGl0ZW1JZDogbnVsbCwKICAgIG9wdFR5cGU6IG51bGwKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIuaWsOWinlNPUOS/oeaBryIsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczogewogICAgICAgIGl0ZW1JZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIueJqeaWmeS6p+WTgUlE5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIC8vIOS6p+WTgVNPUOihqOagvOaVsOaNrgogICAgICBzb3BMaXN0OiBbXSwKICAgICAgLy/nlKjkuo7lm77niYfpooTop4jnmoTmuIXljZUKICAgICAgaW1hZ2VMaXN0OiBbXSwKICAgICAgLy/lt6Xluo/pgInpobkKICAgICAgcHJvY2Vzc09wdGlvbnM6IFtdLAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIGl0ZW1JZDogdGhpcy5pdGVtSWQKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMuZ2V0UHJvY2VzcygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/ojrflj5blvZPliY3kuqflk4HnmoRTT1DotYTmlpnmuIXljZUKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAoMCwgX3NvcC5saXN0U29wKSh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGRlYnVnZ2VyOwogICAgICAgIF90aGlzLmltYWdlTGlzdCA9IFtdOwogICAgICAgIF90aGlzLnNvcExpc3QgPSByZXNwb25zZS5yb3dzOwoKICAgICAgICBfdGhpcy5zb3BMaXN0LmZvckVhY2goZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgX3RoaXMuaW1hZ2VMaXN0LnB1c2gocm93LnNvcFVybCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5p+l6K+i5bel5bqP5L+h5oGvCiAgICBnZXRQcm9jZXNzOiBmdW5jdGlvbiBnZXRQcm9jZXNzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICgwLCBfcHJvY2Vzcy5saXN0QWxsUHJvY2VzcykoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5wcm9jZXNzT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBzb3BJZDogbnVsbCwKICAgICAgICBpdGVtSWQ6IHRoaXMuaXRlbUlkLAogICAgICAgIG9yZGVyTnVtOiBudWxsLAogICAgICAgIHByb2Nlc3NJZDogbnVsbCwKICAgICAgICBwcm9jZXNzQ29kZTogbnVsbCwKICAgICAgICBwcm9jZXNzTmFtZTogbnVsbCwKICAgICAgICBzb3BUaXRsZTogbnVsbCwKICAgICAgICBzb3BEZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICBzb3BVcmw6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDmlrDlop7mk43kvZwKICAgICAqLwogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgdGhpcy50aXRsZSA9ICLmt7vliqDkuqflk4FTT1AiOwogICAgfSwKCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVVcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHZhciBzb3BJZCA9IHJvdy5zb3BJZCB8fCB0aGlzLmlkczsKICAgICAgKDAsIF9zb3AuZ2V0U29wKShzb3BJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMzLm9wZW4gPSB0cnVlOwogICAgICAgIF90aGlzMy50aXRsZSA9ICLkv67mlLnkuqflk4FTT1AiOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WbvueJh+S4iuS8oOaIkOWKnwogICAgaGFuZGxlSW1nVXBsYW9kZWQ6IGZ1bmN0aW9uIGhhbmRsZUltZ1VwbGFvZGVkKGltZ1VybCkgewogICAgICBjb25zb2xlLmxvZyhpbWdVcmwpOwogICAgICB0aGlzLmZvcm0uc29wVXJsID0gaW1nVXJsOwogICAgfSwKICAgIC8v5Zu+54mH56e76ZmkCiAgICBoYW5kbGVJbWdSZW1vdmVkOiBmdW5jdGlvbiBoYW5kbGVJbWdSZW1vdmVkKGltZ1VybCkgewogICAgICBjb25zb2xlLmxvZyhpbWdVcmwpOwogICAgICB0aGlzLmZvcm0uc29wVXJsID0gbnVsbDsKICAgIH0sCiAgICAvL+aPkOS6pAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoX3RoaXM0LmZvcm0uc29wSWQgIT0gbnVsbCkgewogICAgICAgICAgICAoMCwgX3NvcC51cGRhdGVTb3ApKF90aGlzNC5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzNC4kbW9kYWwubXNnU3VjY2Vzcygi5L+u5pS55oiQ5YqfIik7CgogICAgICAgICAgICAgIF90aGlzNC5vcGVuID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzNC5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgKDAsIF9zb3AuYWRkU29wKShfdGhpczQuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpczQuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuaWsOWinuaIkOWKnyIpOwoKICAgICAgICAgICAgICBfdGhpczQub3BlbiA9IGZhbHNlOwoKICAgICAgICAgICAgICBfdGhpczQuZ2V0TGlzdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgc29wSWRzID0gcm93LnNvcElkIHx8IHRoaXMuaWRzOwogICAgICB0aGlzLiRtb2RhbC5jb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTkuqflk4FTT1DnvJblj7fkuLoiJyArIHNvcElkcyArICci55qE5pWw5o2u6aG577yfJykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfc29wLmRlbFNvcCkoc29wSWRzKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LmdldExpc3QoKTsKCiAgICAgICAgX3RoaXM1LiRtb2RhbC5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;;;;;;;AAkEA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA,cADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC;IACAC,YADA;IAEAC;EAFA,CAHA;EAOAC,IAPA,kBAOA;IACA;MACAC,gBADA;MAEAC,aAFA;MAGAC,WAHA;MAIA;MACAC,QALA;MAMA;MACAC;QACAP,SACA;UAAAQ;UAAAC;UAAAC;QAAA,CADA;MADA,CAPA;MAYA;MACAC,WAbA;MAcA;MACAC,aAfA;MAgBA;MACAC,kBAjBA;MAkBAC;QACAd;MADA;IAlBA;EAsBA,CA9BA;EA+BAe,OA/BA,qBA+BA;IACA;IACA;EACA,CAlCA;EAmCAC;IACA;IACAC,OAFA,qBAEA;MAAA;;MACA;QACA;QACA;QACA;;QACA;UACA;QACA,CAFA;MAGA,CAPA;IAQA,CAXA;IAYA;IACAC,UAbA,wBAaA;MAAA;;MACA;QACA;MACA,CAFA;IAGA,CAjBA;IAkBA;IACAC,MAnBA,oBAmBA;MACA;MACA;IACA,CAtBA;IAuBA;IACAC,KAxBA,mBAwBA;MACA;QACAC,WADA;QAEArB,mBAFA;QAGAsB,cAHA;QAIAC,eAJA;QAKAC,iBALA;QAMAC,iBANA;QAOAC,cAPA;QAQAC,oBARA;QASAC;MATA;MAWA;IACA,CArCA;;IAsCA;AACA;AACA;IACAC,SAzCA,uBAyCA;MACA;MACA;MACA;IACA,CA7CA;;IA8CA;IACAC,YA/CA,wBA+CAC,GA/CA,EA+CA;MAAA;;MACA;MACA;MACA;QACA;QACA;QACA;MACA,CAJA;IAKA,CAvDA;IAwDA;IACAC,iBAzDA,6BAyDAC,MAzDA,EAyDA;MACAC;MACA;IACA,CA5DA;IA6DA;IACAC,gBA9DA,4BA8DAF,MA9DA,EA8DA;MACAC;MACA;IACA,CAjEA;IAkEA;IACAE,UAnEA,wBAmEA;MAAA;;MACA;QACA;UACA;YACA;cACA;;cACA;;cACA;YACA,CAJA;UAKA,CANA,MAMA;YACA;cACA;;cACA;;cACA;YACA,CAJA;UAKA;QACA;MACA,CAhBA;IAiBA,CArFA;;IAsFA;IACAC,YAvFA,wBAuFAN,GAvFA,EAuFA;MAAA;;MACA;MACA;QACA;MACA,CAFA,EAEAO,IAFA,CAEA;QACA;;QACA;MACA,CALA,EAKAC,KALA,CAKA,cALA;IAMA;EA/FA;AAnCA,C","names":["name","components","ImageUpload","props","itemId","optType","data","title","loading","open","form","rules","required","message","trigger","sopList","imageList","processOptions","queryParams","created","methods","getList","getProcess","cancel","reset","sopId","orderNum","processId","processCode","processName","sopTitle","sopDescription","sopUrl","handleAdd","handleUpdate","row","handleImgUplaoded","imgUrl","console","handleImgRemoved","submitForm","handleDelete","then","catch"],"sourceRoot":"src/views/mes/md/mditem/components","sources":["sop.vue"],"sourcesContent":["<template>\n    <div class=\"app-container\">\n        <el-row v-if=\"optType != 'view'\" :gutter=\"10\" class=\"mb8\">\n            <el-col :span=\"1.5\">\n                <el-button\n                type=\"primary\"\n                plain\n                icon=\"el-icon-plus\"\n                size=\"mini\"\n                @click=\"handleAdd\"\n                v-hasPermi=\"['mes:md:sop:add']\"\n                >新增</el-button>\n            </el-col>\n        </el-row>\n        <div class=\"header\">\n            <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"960px\" append-to-body>\n                <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n                    <el-form-item label=\"标题\" prop=\"sopTitle\">\n                        <el-input v-model=\"form.sopTitle\" placeholder=\"请输入标题\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"展示顺序\">\n                        <el-input-number :min=\"1\" v-model=\"form.orderNum\"></el-input-number>\n                    </el-form-item>\n                    <el-form-item label=\"内容说明\">\n                        <el-input type=\"textarea\" v-model=\"form.sopDescription\" placeholder=\"请输入说明信息\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"所属工序\" prop=\"processId\">\n                        <el-select v-model=\"form.processId\" placeholder=\"请选择工序\">\n                            <el-option\n                            v-for=\"item in processOptions\"\n                            :key=\"item.processId\"\n                            :label=\"item.processName\"\n                            :value=\"item.processId\"\n                            ></el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"图片\">\n                        <ImageUpload :limit=\"1\" :value=\"form.sopUrl\" :fileSize=\"5\" @onUploaded=\"handleImgUplaoded\" @onRemoved=\"handleImgRemoved\" ></ImageUpload>\n                    </el-form-item>                    \n                </el-form>\n                <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button type=\"primary\" @click=\"submitForm\">提 交</el-button>\n                    <el-button @click=\"cancel\">取 消</el-button>\n                </div>\n            </el-dialog>\n        </div>\n        <div class=\"images\">\n            <div v-for=\"(item,index) in sopList\" :key=\"index\" class=\"image-middle\">\n                <el-card shadow=\"hover\" :body-style=\"{pading: '10px'}\">\n                    <el-popover>\n                        <img :src=\"sopList[index].sopUrl\" slot=\"reference\" class=\"image\"/>\n                        <el-image class=\"imagePreview\" :src=\"sopList[index].sopUrl\" :preview-src-list=\"imageList\"></el-image>                        \n                    </el-popover>\n                    <div style=\"text-align:center;padding-top:12px\">\n                        <span>\n                            {{sopList[index].sopTitle}}\n                        </span>\n                        <el-button @click=\"handleUpdate(sopList[index])\" type=\"primary\" icon=\"el-icon-edit\"></el-button>\n                        <el-button @click=\"handleDelete(sopList[index])\" type=\"danger\" icon=\"el-icon-delete\"></el-button>\n                    </div>\n                </el-card>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { listSop, getSop, delSop, addSop, updateSop } from \"@/api/mes/md/sop\";\nimport ImageUpload from \"@/components/ImageUpload/index.vue\"\nimport {listAllProcess} from \"@/api/mes/pro/process\";\nexport default{\n    name: \"SOPTab\",\n    components: {ImageUpload},\n    props:{\n        itemId: null,\n        optType: null,\n    },\n    data(){\n        return {\n            title: \"新增SOP信息\",\n            loading: true,\n            open: false,      \n            // 表单参数\n            form: {},\n            // 表单校验\n            rules: {\n                itemId: [\n                    { required: true, message: \"物料产品ID不能为空\", trigger: \"blur\" }\n                ],\n            },     \n            // 产品SOP表格数据\n            sopList: [], \n            //用于图片预览的清单\n            imageList: [],\n            //工序选项\n            processOptions:[],\n            queryParams: {\n                itemId: this.itemId\n            }            \n        }\n    },\n    created(){\n        this.getList();\n        this.getProcess();\n    },\n    methods: {\n        //获取当前产品的SOP资料清单\n        getList(){\n            listSop(this.queryParams).then(response =>{\n                debugger;\n                this.imageList = [];\n                this.sopList = response.rows;\n                this.sopList.forEach(row => {\n                    this.imageList.push(row.sopUrl);\n                });\n            });\n        },\n         //查询工序信息\n        getProcess(){\n            listAllProcess().then( response =>{\n                this.processOptions = response.data;\n            });\n        },\n        // 取消按钮\n        cancel() {\n            this.open = false;\n            this.reset();\n        },\n        // 表单重置\n        reset() {\n            this.form = {\n                sopId: null,\n                itemId: this.itemId,\n                orderNum: null,\n                processId: null,\n                processCode: null,\n                processName: null,\n                sopTitle: null,\n                sopDescription: null,\n                sopUrl: null               \n            };\n            this.resetForm(\"form\");\n        },\n        /**\n         * 新增操作\n         */\n        handleAdd(){\n            this.reset();\n            this.open = true;\n            this.title = \"添加产品SOP\";\n        },\n        /** 修改按钮操作 */\n        handleUpdate(row) {\n            this.reset();\n            const sopId = row.sopId || this.ids\n            getSop(sopId).then(response => {\n                this.form = response.data;\n                this.open = true;\n                this.title = \"修改产品SOP\";\n            });\n        },\n        //图片上传成功\n        handleImgUplaoded(imgUrl){\n            console.log(imgUrl);\n            this.form.sopUrl = imgUrl;\n        },\n        //图片移除\n        handleImgRemoved(imgUrl){\n            console.log(imgUrl);\n            this.form.sopUrl = null;            \n        },\n        //提交\n        submitForm(){\n            this.$refs[\"form\"].validate(valid => {\n                    if (valid) {\n                    if (this.form.sopId != null) {\n                        updateSop(this.form).then(response => {\n                        this.$modal.msgSuccess(\"修改成功\");\n                        this.open = false;\n                        this.getList();\n                        });\n                    } else {\n                        addSop(this.form).then(response => {\n                        this.$modal.msgSuccess(\"新增成功\");\n                        this.open = false;\n                        this.getList();\n                        });\n                    }\n                    }\n                });\n        },\n        /** 删除按钮操作 */\n        handleDelete(row) {\n            const sopIds = row.sopId || this.ids;\n            this.$modal.confirm('是否确认删除产品SOP编号为\"' + sopIds + '\"的数据项？').then(function() {\n                return delSop(sopIds);\n            }).then(() => {\n                this.getList();\n                this.$modal.msgSuccess(\"删除成功\");\n            }).catch(() => {});\n        },\n    }\n}\n</script>\n<style scoped>\n    .header {\n        margin-left: 15px;\n        font-size: 30px;\n        font-weight: 600;\n    }\n\n    .images {\n        display: flex;\n        margin-top: 20px;\n        margin-left: 21px;\n        margin-right: 20px;\n        flex-wrap: wrap;\n    }\n\n    .image-middle{\n        margin-right: 15px;\n        margin-bottom: 15px;\n    }\n\n    .image{\n        width:110px;\n        height: 110px;\n    }\n\n    .imagePreview {\n        width: 600px;\n        height: 500px;\n    }\n</style>"]}]}