{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\qc\\iqc\\iqcline.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\qc\\iqc\\iqcline.vue","mtime":1665505269000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3RJcWNsaW5lLCBnZXRJcWNsaW5lLCBkZWxJcWNsaW5lLCBhZGRJcWNsaW5lLCB1cGRhdGVJcWNsaW5lIH0gZnJvbSAiQC9hcGkvbWVzL3FjL2lxY2xpbmUiOwppbXBvcnQgRGVmZWN0cmVjb3JkIGZyb20gIi4uL2RlZmVjdHJlY29yZC9pbmRleC52dWUiCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSXFjTGluZSIsCiAgZGljdHM6IFsnbWVzX2luZGV4X3R5cGUnXSwKICBwcm9wczp7CiAgICAgIGlxY0lkOiBudWxsLAogICAgICBvcHRUeXBlOiBudWxsLAogIH0sCiAgY29tcG9uZW50czp7RGVmZWN0cmVjb3JkfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVmZWN0X2lxY2lkOm51bGwsCiAgICAgIGRlZmVjdF9saW5laWQ6bnVsbCwKICAgICAgZGVmZWN0X3FjdHlwZTogJ0lRQycsCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDmnaXmlpnmo4DpqozljZXooYzooajmoLzmlbDmja4KICAgICAgaXFjbGluZUxpc3Q6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICIiLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIGlxY0lkOiB0aGlzLmlxY0lkLAogICAgICAgIGluZGV4SWQ6IG51bGwsCiAgICAgICAgaW5kZXhDb2RlOiBudWxsLAogICAgICAgIGluZGV4TmFtZTogbnVsbCwKICAgICAgICBpbmRleFR5cGU6IG51bGwsCiAgICAgICAgcWNUb29sOiBudWxsLAogICAgICAgIGNoZWNrTWV0aG9kOiBudWxsLAogICAgICAgIHN0YW5kZXJWYWw6IG51bGwsCiAgICAgICAgdW5pdE9mTWVhc3VyZTogbnVsbCwKICAgICAgICB0aHJlc2hvbGRNYXg6IG51bGwsCiAgICAgICAgdGhyZXNob2xkTWluOiBudWxsLAogICAgICAgIGNyUXVhbnRpdHk6IG51bGwsCiAgICAgICAgbWFqUXVhbnRpdHk6IG51bGwsCiAgICAgICAgbWluUXVhbnRpdHk6IG51bGwsCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiog5p+l6K+i5p2l5paZ5qOA6aqM5Y2V6KGM5YiX6KGoICovCiAgICBnZXRMaXN0KCkgewogICAgICBkZWJ1Z2dlcjsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgbGlzdElxY2xpbmUodGhpcy5xdWVyeVBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5pcWNsaW5lTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgbGluZUlkOiBudWxsLAogICAgICAgIGlxY0lkOiB0aGlzLmlxY0lkLAogICAgICAgIGluZGV4SWQ6IG51bGwsCiAgICAgICAgaW5kZXhDb2RlOiBudWxsLAogICAgICAgIGluZGV4TmFtZTogbnVsbCwKICAgICAgICBpbmRleFR5cGU6IG51bGwsCiAgICAgICAgcWNUb29sOiBudWxsLAogICAgICAgIGNoZWNrTWV0aG9kOiBudWxsLAogICAgICAgIHN0YW5kZXJWYWw6IG51bGwsCiAgICAgICAgdW5pdE9mTWVhc3VyZTogbnVsbCwKICAgICAgICB0aHJlc2hvbGRNYXg6IG51bGwsCiAgICAgICAgdGhyZXNob2xkTWluOiBudWxsLAogICAgICAgIGNyUXVhbnRpdHk6IG51bGwsCiAgICAgICAgbWFqUXVhbnRpdHk6IG51bGwsCiAgICAgICAgbWluUXVhbnRpdHk6IG51bGwsCiAgICAgICAgcmVtYXJrOiBudWxsLAogICAgICAgIGF0dHIxOiBudWxsLAogICAgICAgIGF0dHIyOiBudWxsLAogICAgICAgIGF0dHIzOiBudWxsLAogICAgICAgIGF0dHI0OiBudWxsLAogICAgICAgIGNyZWF0ZUJ5OiBudWxsLAogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgdXBkYXRlQnk6IG51bGwsCiAgICAgICAgdXBkYXRlVGltZTogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5saW5lSWQpCiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCE9PTEKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoCiAgICB9LAogICAgaGFuZGxlRGVmZWN0KHJvdyl7CiAgICAgIHRoaXMuZGVmZWN0X2lxY2lkID0gcm93LmlxY0lkOwogICAgICB0aGlzLmRlZmVjdF9saW5laWQgPSByb3cubGluZUlkOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5kZWZlY3REaWFsb2cuc2hvd0ZsYWcgPSB0cnVlOwogICAgICAgIHRoaXMuJHJlZnMuZGVmZWN0RGlhbG9nLmdldExpc3QoKTsKICAgICAgfSkKCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["iqcline.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"iqcline.vue","sourceRoot":"src/views/mes/qc/iqc","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-table v-loading=\"loading\" :data=\"iqclineList\" @selection-change=\"handleSelectionChange\">      \n      <el-table-column label=\"检测项名称\" width=\"100px\" align=\"center\" prop=\"indexName\" />\n      <el-table-column label=\"检测项类型\" width=\"100px\" align=\"center\" prop=\"indexType\">\n        <template slot-scope=\"scope\">\n          <dict-tag :options=\"dict.type.mes_index_type\" :value=\"scope.row.indexType\"/>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"检测工具\" align=\"center\" prop=\"qcTool\" />\n      <el-table-column label=\"检测要求\" align=\"center\" prop=\"checkMethod\" />\n      <el-table-column label=\"标准值\" align=\"center\" prop=\"standerVal\" />\n      <el-table-column label=\"单位\" align=\"center\" prop=\"unitOfMeasure\" />\n      <el-table-column label=\"误差上限\" align=\"center\" prop=\"thresholdMax\" />\n      <el-table-column label=\"误差下限\" align=\"center\" prop=\"thresholdMin\" />\n      <el-table-column label=\"致命缺陷数量\" align=\"center\" prop=\"crQuantity\" />\n      <el-table-column label=\"严重缺陷数量\" align=\"center\" prop=\"majQuantity\" />\n      <el-table-column label=\"轻微缺陷数量\" align=\"center\" prop=\"minQuantity\" />\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" />\n      <el-table-column label=\"操作\" align=\"center\"  class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleDefect(scope.row)\"\n            v-hasPermi=\"['mes:qc:iqcline:edit']\"\n            v-if=\"optType !='view'\"\n          >缺陷记录</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    \n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n    <Defectrecord ref=\"defectDialog\" :qcId=\"defect_iqcid\" :lineId=\"defect_lineid\" :qcType=\"defect_qctype\" :optType=\"optType\"></Defectrecord>\n  </div>\n</template>\n\n<script>\nimport { listIqcline, getIqcline, delIqcline, addIqcline, updateIqcline } from \"@/api/mes/qc/iqcline\";\nimport Defectrecord from \"../defectrecord/index.vue\"\nexport default {\n  name: \"IqcLine\",\n  dicts: ['mes_index_type'],\n  props:{\n      iqcId: null,\n      optType: null,\n  },\n  components:{Defectrecord},\n  data() {\n    return {\n      defect_iqcid:null,\n      defect_lineid:null,\n      defect_qctype: 'IQC',\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 来料检验单行表格数据\n      iqclineList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        iqcId: this.iqcId,\n        indexId: null,\n        indexCode: null,\n        indexName: null,\n        indexType: null,\n        qcTool: null,\n        checkMethod: null,\n        standerVal: null,\n        unitOfMeasure: null,\n        thresholdMax: null,\n        thresholdMin: null,\n        crQuantity: null,\n        majQuantity: null,\n        minQuantity: null,\n      },\n      // 表单参数\n      form: {},\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    /** 查询来料检验单行列表 */\n    getList() {\n      debugger;\n      this.loading = true;\n      listIqcline(this.queryParams).then(response => {\n        this.iqclineList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        lineId: null,\n        iqcId: this.iqcId,\n        indexId: null,\n        indexCode: null,\n        indexName: null,\n        indexType: null,\n        qcTool: null,\n        checkMethod: null,\n        standerVal: null,\n        unitOfMeasure: null,\n        thresholdMax: null,\n        thresholdMin: null,\n        crQuantity: null,\n        majQuantity: null,\n        minQuantity: null,\n        remark: null,\n        attr1: null,\n        attr2: null,\n        attr3: null,\n        attr4: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.lineId)\n      this.single = selection.length!==1\n      this.multiple = !selection.length\n    },\n    handleDefect(row){\n      this.defect_iqcid = row.iqcId;\n      this.defect_lineid = row.lineId;\n      this.$nextTick(() => {\n        this.$refs.defectDialog.showFlag = true;\n        this.$refs.defectDialog.getList();\n      })\n\n    }\n  }\n};\n</script>\n"]}]}