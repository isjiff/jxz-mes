{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\directive\\permission\\hasRole.js","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\directive\\permission\\hasRole.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\babel.config.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\eslint-loader\\index.js","mtime":1662432869370}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwoKLyoqCiogdi1oYXNSb2xlIOinkuiJsuadg+mZkOWkhOeQhgoqIENvcHlyaWdodCAoYykgMjAxOSBydW95aQoqLwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7CiAgICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlOwogICAgdmFyIHN1cGVyX2FkbWluID0gImFkbWluIjsKICAgIHZhciByb2xlcyA9IHN0b3JlLmdldHRlcnMgJiYgc3RvcmUuZ2V0dGVycy5yb2xlczsKCiAgICBpZiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7CiAgICAgIHZhciByb2xlRmxhZyA9IHZhbHVlOwogICAgICB2YXIgaGFzUm9sZSA9IHJvbGVzLnNvbWUoZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgICByZXR1cm4gc3VwZXJfYWRtaW4gPT09IHJvbGUgfHwgcm9sZUZsYWcuaW5jbHVkZXMocm9sZSk7CiAgICAgIH0pOwoKICAgICAgaWYgKCFoYXNSb2xlKSB7CiAgICAgICAgZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJcdThCRjdcdThCQkVcdTdGNkVcdTg5RDJcdTgyNzJcdTY3NDNcdTk2NTBcdTY4MDdcdTdCN0VcdTUwM0NcIiIpOwogICAgfQogIH0KfTs="},{"version":3,"names":["store","inserted","el","binding","vnode","value","super_admin","roles","getters","Array","length","roleFlag","hasRole","some","role","includes","parentNode","removeChild","Error"],"sources":["D:/resource/eclipse-workspace/ktg-mes-master/ktg-mes-ui-master/src/directive/permission/hasRole.js"],"sourcesContent":[" /**\n * v-hasRole 角色权限处理\n * Copyright (c) 2019 ruoyi\n */\n \nimport store from '@/store'\n\nexport default {\n  inserted(el, binding, vnode) {\n    const { value } = binding\n    const super_admin = \"admin\";\n    const roles = store.getters && store.getters.roles\n\n    if (value && value instanceof Array && value.length > 0) {\n      const roleFlag = value\n\n      const hasRole = roles.some(role => {\n        return super_admin === role || roleFlag.includes(role)\n      })\n\n      if (!hasRole) {\n        el.parentNode && el.parentNode.removeChild(el)\n      }\n    } else {\n      throw new Error(`请设置角色权限标签值\"`)\n    }\n  }\n}\n"],"mappings":";;;;;AAAC;AACD;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,eAAe;EACbC,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;IAC3B,IAAQC,KAAR,GAAkBF,OAAlB,CAAQE,KAAR;IACA,IAAMC,WAAW,GAAG,OAApB;IACA,IAAMC,KAAK,GAAGP,KAAK,CAACQ,OAAN,IAAiBR,KAAK,CAACQ,OAAN,CAAcD,KAA7C;;IAEA,IAAIF,KAAK,IAAIA,KAAK,YAAYI,KAA1B,IAAmCJ,KAAK,CAACK,MAAN,GAAe,CAAtD,EAAyD;MACvD,IAAMC,QAAQ,GAAGN,KAAjB;MAEA,IAAMO,OAAO,GAAGL,KAAK,CAACM,IAAN,CAAW,UAAAC,IAAI,EAAI;QACjC,OAAOR,WAAW,KAAKQ,IAAhB,IAAwBH,QAAQ,CAACI,QAAT,CAAkBD,IAAlB,CAA/B;MACD,CAFe,CAAhB;;MAIA,IAAI,CAACF,OAAL,EAAc;QACZV,EAAE,CAACc,UAAH,IAAiBd,EAAE,CAACc,UAAH,CAAcC,WAAd,CAA0Bf,EAA1B,CAAjB;MACD;IACF,CAVD,MAUO;MACL,MAAM,IAAIgB,KAAJ,kEAAN;IACD;EACF;AAnBY,CAAf"}]}