{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\store\\modules\\permission.js","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\store\\modules\\permission.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\babel.config.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\eslint-loader\\index.js","mtime":1662432869370}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIGZyb20gIkQ6L3Jlc291cmNlL2VjbGlwc2Utd29ya3NwYWNlL2t0Zy1tZXMtbWFzdGVyL2t0Zy1tZXMtdWktbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgYXV0aCBmcm9tICdAL3BsdWdpbnMvYXV0aCc7CmltcG9ydCByb3V0ZXIsIHsgY29uc3RhbnRSb3V0ZXMsIGR5bmFtaWNSb3V0ZXMgfSBmcm9tICdAL3JvdXRlcic7CmltcG9ydCB7IGdldFJvdXRlcnMgfSBmcm9tICdAL2FwaS9tZW51JzsKaW1wb3J0IExheW91dCBmcm9tICdAL2xheW91dC9pbmRleCc7CmltcG9ydCBQYXJlbnRWaWV3IGZyb20gJ0AvY29tcG9uZW50cy9QYXJlbnRWaWV3JzsKaW1wb3J0IElubmVyTGluayBmcm9tICdAL2xheW91dC9jb21wb25lbnRzL0lubmVyTGluayc7CnZhciBwZXJtaXNzaW9uID0gewogIHN0YXRlOiB7CiAgICByb3V0ZXM6IFtdLAogICAgYWRkUm91dGVzOiBbXSwKICAgIGRlZmF1bHRSb3V0ZXM6IFtdLAogICAgdG9wYmFyUm91dGVyczogW10sCiAgICBzaWRlYmFyUm91dGVyczogW10KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX1JPVVRFUzogZnVuY3Rpb24gU0VUX1JPVVRFUyhzdGF0ZSwgcm91dGVzKSB7CiAgICAgIHN0YXRlLmFkZFJvdXRlcyA9IHJvdXRlczsKICAgICAgc3RhdGUucm91dGVzID0gY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcyk7CiAgICB9LAogICAgU0VUX0RFRkFVTFRfUk9VVEVTOiBmdW5jdGlvbiBTRVRfREVGQVVMVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgICBzdGF0ZS5kZWZhdWx0Um91dGVzID0gY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcyk7CiAgICB9LAogICAgU0VUX1RPUEJBUl9ST1VURVM6IGZ1bmN0aW9uIFNFVF9UT1BCQVJfUk9VVEVTKHN0YXRlLCByb3V0ZXMpIHsKICAgICAgc3RhdGUudG9wYmFyUm91dGVycyA9IHJvdXRlczsKICAgIH0sCiAgICBTRVRfU0lERUJBUl9ST1VURVJTOiBmdW5jdGlvbiBTRVRfU0lERUJBUl9ST1VURVJTKHN0YXRlLCByb3V0ZXMpIHsKICAgICAgc3RhdGUuc2lkZWJhclJvdXRlcnMgPSByb3V0ZXM7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyDnlJ/miJDot6/nlLEKICAgIEdlbmVyYXRlUm91dGVzOiBmdW5jdGlvbiBHZW5lcmF0ZVJvdXRlcyhfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgLy8g5ZCR5ZCO56uv6K+35rGC6Lev55Sx5pWw5o2uCiAgICAgICAgZ2V0Um91dGVycygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdmFyIHNkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOwogICAgICAgICAgdmFyIHJkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOwogICAgICAgICAgdmFyIHNpZGViYXJSb3V0ZXMgPSBmaWx0ZXJBc3luY1JvdXRlcihzZGF0YSk7CiAgICAgICAgICB2YXIgcmV3cml0ZVJvdXRlcyA9IGZpbHRlckFzeW5jUm91dGVyKHJkYXRhLCBmYWxzZSwgdHJ1ZSk7CiAgICAgICAgICB2YXIgYXN5bmNSb3V0ZXMgPSBmaWx0ZXJEeW5hbWljUm91dGVzKGR5bmFtaWNSb3V0ZXMpOwogICAgICAgICAgcmV3cml0ZVJvdXRlcy5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJyonLAogICAgICAgICAgICByZWRpcmVjdDogJy80MDQnLAogICAgICAgICAgICBoaWRkZW46IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgcm91dGVyLmFkZFJvdXRlcyhhc3luY1JvdXRlcyk7CiAgICAgICAgICBjb21taXQoJ1NFVF9ST1VURVMnLCByZXdyaXRlUm91dGVzKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1NJREVCQVJfUk9VVEVSUycsIGNvbnN0YW50Um91dGVzLmNvbmNhdChzaWRlYmFyUm91dGVzKSk7CiAgICAgICAgICBjb21taXQoJ1NFVF9ERUZBVUxUX1JPVVRFUycsIHNpZGViYXJSb3V0ZXMpOwogICAgICAgICAgY29tbWl0KCdTRVRfVE9QQkFSX1JPVVRFUycsIHNpZGViYXJSb3V0ZXMpOwogICAgICAgICAgcmVzb2x2ZShyZXdyaXRlUm91dGVzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9OyAvLyDpgY3ljoblkI7lj7DkvKDmnaXnmoTot6/nlLHlrZfnrKbkuLLvvIzovazmjaLkuLrnu4Tku7blr7nosaEKCmZ1bmN0aW9uIGZpbHRlckFzeW5jUm91dGVyKGFzeW5jUm91dGVyTWFwKSB7CiAgdmFyIGxhc3RSb3V0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTsKICByZXR1cm4gYXN5bmNSb3V0ZXJNYXAuZmlsdGVyKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgaWYgKHR5cGUgJiYgcm91dGUuY2hpbGRyZW4pIHsKICAgICAgcm91dGUuY2hpbGRyZW4gPSBmaWx0ZXJDaGlsZHJlbihyb3V0ZS5jaGlsZHJlbik7CiAgICB9CgogICAgaWYgKHJvdXRlLmNvbXBvbmVudCkgewogICAgICAvLyBMYXlvdXQgUGFyZW50VmlldyDnu4Tku7bnibnmrorlpITnkIYKICAgICAgaWYgKHJvdXRlLmNvbXBvbmVudCA9PT0gJ0xheW91dCcpIHsKICAgICAgICByb3V0ZS5jb21wb25lbnQgPSBMYXlvdXQ7CiAgICAgIH0gZWxzZSBpZiAocm91dGUuY29tcG9uZW50ID09PSAnUGFyZW50VmlldycpIHsKICAgICAgICByb3V0ZS5jb21wb25lbnQgPSBQYXJlbnRWaWV3OwogICAgICB9IGVsc2UgaWYgKHJvdXRlLmNvbXBvbmVudCA9PT0gJ0lubmVyTGluaycpIHsKICAgICAgICByb3V0ZS5jb21wb25lbnQgPSBJbm5lckxpbms7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gbG9hZFZpZXcocm91dGUuY29tcG9uZW50KTsKICAgICAgfQogICAgfQoKICAgIGlmIChyb3V0ZS5jaGlsZHJlbiAhPSBudWxsICYmIHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICByb3V0ZS5jaGlsZHJlbiA9IGZpbHRlckFzeW5jUm91dGVyKHJvdXRlLmNoaWxkcmVuLCByb3V0ZSwgdHlwZSk7CiAgICB9IGVsc2UgewogICAgICBkZWxldGUgcm91dGVbJ2NoaWxkcmVuJ107CiAgICAgIGRlbGV0ZSByb3V0ZVsncmVkaXJlY3QnXTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9KTsKfQoKZnVuY3Rpb24gZmlsdGVyQ2hpbGRyZW4oY2hpbGRyZW5NYXApIHsKICB2YXIgbGFzdFJvdXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgdmFyIGNoaWxkcmVuID0gW107CiAgY2hpbGRyZW5NYXAuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGluZGV4KSB7CiAgICBpZiAoZWwuY2hpbGRyZW4gJiYgZWwuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgIGlmIChlbC5jb21wb25lbnQgPT09ICdQYXJlbnRWaWV3JyAmJiAhbGFzdFJvdXRlcikgewogICAgICAgIGVsLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIGMucGF0aCA9IGVsLnBhdGggKyAnLycgKyBjLnBhdGg7CgogICAgICAgICAgaWYgKGMuY2hpbGRyZW4gJiYgYy5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5jb25jYXQoZmlsdGVyQ2hpbGRyZW4oYy5jaGlsZHJlbiwgYykpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgY2hpbGRyZW4ucHVzaChjKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KCiAgICBpZiAobGFzdFJvdXRlcikgewogICAgICBlbC5wYXRoID0gbGFzdFJvdXRlci5wYXRoICsgJy8nICsgZWwucGF0aDsKICAgIH0KCiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmNvbmNhdChlbCk7CiAgfSk7CiAgcmV0dXJuIGNoaWxkcmVuOwp9IC8vIOWKqOaAgei3r+eUsemBjeWOhu+8jOmqjOivgeaYr+WQpuWFt+Wkh+adg+mZkAoKCmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJEeW5hbWljUm91dGVzKHJvdXRlcykgewogIHZhciByZXMgPSBbXTsKICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgIGlmIChyb3V0ZS5wZXJtaXNzaW9ucykgewogICAgICBpZiAoYXV0aC5oYXNQZXJtaU9yKHJvdXRlLnBlcm1pc3Npb25zKSkgewogICAgICAgIHJlcy5wdXNoKHJvdXRlKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChyb3V0ZS5yb2xlcykgewogICAgICBpZiAoYXV0aC5oYXNSb2xlT3Iocm91dGUucm9sZXMpKSB7CiAgICAgICAgcmVzLnB1c2gocm91dGUpOwogICAgICB9CiAgICB9CiAgfSk7CiAgcmV0dXJuIHJlczsKfQpleHBvcnQgdmFyIGxvYWRWaWV3ID0gZnVuY3Rpb24gbG9hZFZpZXcodmlldykgewogIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cy8iLmNvbmNhdCh2aWV3KV0sIHJlc29sdmUpOwogICAgfTsKICB9IGVsc2UgewogICAgLy8g5L2/55SoIGltcG9ydCDlrp7njrDnlJ/kuqfnjq/looPnmoTot6/nlLHmh5LliqDovb0KICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIkAvdmlld3MvIi5jb25jYXQodmlldykpLnRoZW4oZnVuY3Rpb24gKHMpIHsKICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShzKSk7CiAgICAgIH0pOwogICAgfTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHBlcm1pc3Npb247"},{"version":3,"names":["auth","router","constantRoutes","dynamicRoutes","getRouters","Layout","ParentView","InnerLink","permission","state","routes","addRoutes","defaultRoutes","topbarRouters","sidebarRouters","mutations","SET_ROUTES","concat","SET_DEFAULT_ROUTES","SET_TOPBAR_ROUTES","SET_SIDEBAR_ROUTERS","actions","GenerateRoutes","commit","Promise","resolve","then","res","sdata","JSON","parse","stringify","data","rdata","sidebarRoutes","filterAsyncRouter","rewriteRoutes","asyncRoutes","filterDynamicRoutes","push","path","redirect","hidden","asyncRouterMap","lastRouter","type","filter","route","children","filterChildren","component","loadView","length","childrenMap","forEach","el","index","c","permissions","hasPermiOr","roles","hasRoleOr","view","process","env","NODE_ENV","require"],"sources":["D:/resource/eclipse-workspace/ktg-mes-master/ktg-mes-ui-master/src/store/modules/permission.js"],"sourcesContent":["import auth from '@/plugins/auth'\nimport router, { constantRoutes, dynamicRoutes } from '@/router'\nimport { getRouters } from '@/api/menu'\nimport Layout from '@/layout/index'\nimport ParentView from '@/components/ParentView'\nimport InnerLink from '@/layout/components/InnerLink'\n\nconst permission = {\n  state: {\n    routes: [],\n    addRoutes: [],\n    defaultRoutes: [],\n    topbarRouters: [],\n    sidebarRouters: []\n  },\n  mutations: {\n    SET_ROUTES: (state, routes) => {\n      state.addRoutes = routes\n      state.routes = constantRoutes.concat(routes)\n    },\n    SET_DEFAULT_ROUTES: (state, routes) => {\n      state.defaultRoutes = constantRoutes.concat(routes)\n    },\n    SET_TOPBAR_ROUTES: (state, routes) => {\n      state.topbarRouters = routes\n    },\n    SET_SIDEBAR_ROUTERS: (state, routes) => {\n      state.sidebarRouters = routes\n    },\n  },\n  actions: {\n    // 生成路由\n    GenerateRoutes({ commit }) {\n      return new Promise(resolve => {\n        // 向后端请求路由数据\n        getRouters().then(res => {\n          const sdata = JSON.parse(JSON.stringify(res.data))\n          const rdata = JSON.parse(JSON.stringify(res.data))\n          const sidebarRoutes = filterAsyncRouter(sdata)\n          const rewriteRoutes = filterAsyncRouter(rdata, false, true)\n          const asyncRoutes = filterDynamicRoutes(dynamicRoutes);\n          rewriteRoutes.push({ path: '*', redirect: '/404', hidden: true })\n          router.addRoutes(asyncRoutes);\n          commit('SET_ROUTES', rewriteRoutes)\n          commit('SET_SIDEBAR_ROUTERS', constantRoutes.concat(sidebarRoutes))\n          commit('SET_DEFAULT_ROUTES', sidebarRoutes)\n          commit('SET_TOPBAR_ROUTES', sidebarRoutes)\n          resolve(rewriteRoutes)\n        })\n      })\n    }\n  }\n}\n\n// 遍历后台传来的路由字符串，转换为组件对象\nfunction filterAsyncRouter(asyncRouterMap, lastRouter = false, type = false) {\n  return asyncRouterMap.filter(route => {\n    if (type && route.children) {\n      route.children = filterChildren(route.children)\n    }\n    if (route.component) {\n      // Layout ParentView 组件特殊处理\n      if (route.component === 'Layout') {\n        route.component = Layout\n      } else if (route.component === 'ParentView') {\n        route.component = ParentView\n      } else if (route.component === 'InnerLink') {\n        route.component = InnerLink\n      } else {\n        route.component = loadView(route.component)\n      }\n    }\n    if (route.children != null && route.children && route.children.length) {\n      route.children = filterAsyncRouter(route.children, route, type)\n    } else {\n      delete route['children']\n      delete route['redirect']\n    }\n    return true\n  })\n}\n\nfunction filterChildren(childrenMap, lastRouter = false) {\n  var children = []\n  childrenMap.forEach((el, index) => {\n    if (el.children && el.children.length) {\n      if (el.component === 'ParentView' && !lastRouter) {\n        el.children.forEach(c => {\n          c.path = el.path + '/' + c.path\n          if (c.children && c.children.length) {\n            children = children.concat(filterChildren(c.children, c))\n            return\n          }\n          children.push(c)\n        })\n        return\n      }\n    }\n    if (lastRouter) {\n      el.path = lastRouter.path + '/' + el.path\n    }\n    children = children.concat(el)\n  })\n  return children\n}\n\n// 动态路由遍历，验证是否具备权限\nexport function filterDynamicRoutes(routes) {\n  const res = []\n  routes.forEach(route => {\n    if (route.permissions) {\n      if (auth.hasPermiOr(route.permissions)) {\n        res.push(route)\n      }\n    } else if (route.roles) {\n      if (auth.hasRoleOr(route.roles)) {\n        res.push(route)\n      }\n    }\n  })\n  return res\n}\n\nexport const loadView = (view) => {\n  if (process.env.NODE_ENV === 'development') {\n    return (resolve) => require([`@/views/${view}`], resolve)\n  } else {\n    // 使用 import 实现生产环境的路由懒加载\n    return () => import(`@/views/${view}`)\n  }\n}\n\nexport default permission\n"],"mappings":"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"}]}