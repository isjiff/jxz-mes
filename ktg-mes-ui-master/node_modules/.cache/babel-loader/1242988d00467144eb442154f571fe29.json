{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\qc\\ipqc\\line.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\qc\\ipqc\\line.vue","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\babel.config.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbGlzdElwcWNsaW5lLCBnZXRJcHFjbGluZSwgZGVsSXBxY2xpbmUsIGFkZElwcWNsaW5lLCB1cGRhdGVJcHFjbGluZSB9IGZyb20gIkAvYXBpL21lcy9xYy9pcHFjbGluZSI7CmltcG9ydCBEZWZlY3RyZWNvcmQgZnJvbSAiLi4vZGVmZWN0cmVjb3JkL2luZGV4LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSXBxY2xpbmUiLAogIGRpY3RzOiBbJ21lc19pbmRleF90eXBlJ10sCiAgcHJvcHM6IHsKICAgIGlwcWNJZDogbnVsbCwKICAgIG9wdFR5cGU6IHVuZGVmaW5lZAogIH0sCiAgY29tcG9uZW50czogewogICAgRGVmZWN0cmVjb3JkOiBEZWZlY3RyZWNvcmQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZlY3RfcWNpZDogbnVsbCwKICAgICAgZGVmZWN0X3FjbGluZWlkOiBudWxsLAogICAgICBkZWZlY3RfcWN0eXBlOiAnSVBRQycsCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDov4fnqIvmo4DpqozljZXooYzooajmoLzmlbDmja4KICAgICAgaXBxY2xpbmVMaXN0OiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBpcHFjSWQ6IHRoaXMuaXBxY0lkLAogICAgICAgIGluZGV4SWQ6IG51bGwsCiAgICAgICAgaW5kZXhDb2RlOiBudWxsLAogICAgICAgIGluZGV4TmFtZTogbnVsbCwKICAgICAgICBpbmRleFR5cGU6IG51bGwsCiAgICAgICAgcWNUb29sOiBudWxsLAogICAgICAgIGNoZWNrTWV0aG9kOiBudWxsLAogICAgICAgIHN0YW5kZXJWYWw6IG51bGwsCiAgICAgICAgdW5pdE9mTWVhc3VyZTogbnVsbCwKICAgICAgICB0aHJlc2hvbGRNYXg6IG51bGwsCiAgICAgICAgdGhyZXNob2xkTWluOiBudWxsLAogICAgICAgIGNyUXVhbnRpdHk6IG51bGwsCiAgICAgICAgbWFqUXVhbnRpdHk6IG51bGwsCiAgICAgICAgbWluUXVhbnRpdHk6IG51bGwKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBpcHFjSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLmo4DpqozljZVJROS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBpbmRleElkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5qOA5rWL6aG5SUTkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6Lov4fnqIvmo4DpqozljZXooYzliJfooaggKi8KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBsaXN0SXBxY2xpbmUodGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5pcHFjbGluZUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgbGluZUlkOiBudWxsLAogICAgICAgIGlwcWNJZDogbnVsbCwKICAgICAgICBpbmRleElkOiBudWxsLAogICAgICAgIGluZGV4Q29kZTogbnVsbCwKICAgICAgICBpbmRleE5hbWU6IG51bGwsCiAgICAgICAgaW5kZXhUeXBlOiBudWxsLAogICAgICAgIHFjVG9vbDogbnVsbCwKICAgICAgICBjaGVja01ldGhvZDogbnVsbCwKICAgICAgICBzdGFuZGVyVmFsOiBudWxsLAogICAgICAgIHVuaXRPZk1lYXN1cmU6IG51bGwsCiAgICAgICAgdGhyZXNob2xkTWF4OiBudWxsLAogICAgICAgIHRocmVzaG9sZE1pbjogbnVsbCwKICAgICAgICBjclF1YW50aXR5OiBudWxsLAogICAgICAgIG1halF1YW50aXR5OiBudWxsLAogICAgICAgIG1pblF1YW50aXR5OiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbCwKICAgICAgICBhdHRyMTogbnVsbCwKICAgICAgICBhdHRyMjogbnVsbCwKICAgICAgICBhdHRyMzogbnVsbCwKICAgICAgICBhdHRyNDogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0sCgogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCgogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubGluZUlkOwogICAgICB9KTsKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CiAgICB9LAogICAgLy/nvLrpmbforrDlvZUKICAgIGhhbmRsZURlZmVjdDogZnVuY3Rpb24gaGFuZGxlRGVmZWN0KHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZGVmZWN0X3FjaWQgPSByb3cuaXBxY0lkOwogICAgICB0aGlzLmRlZmVjdF9xY2xpbmVpZCA9IHJvdy5saW5lSWQ7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJHJlZnMuZGVmZWN0RGlhbG9nLnNob3dGbGFnID0gdHJ1ZTsKCiAgICAgICAgX3RoaXMyLiRyZWZzLmRlZmVjdERpYWxvZy5nZXRMaXN0KCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;EACAA,gBADA;EAEAC,yBAFA;EAGAC;IACAC,YADA;IAEAC;EAFA,CAHA;EAOAC;IAAAC;EAAA,CAPA;EAQAC,IARA,kBAQA;IACA;MACAC,iBADA;MAEAC,qBAFA;MAGAC,qBAHA;MAIA;MACAC,aALA;MAMA;MACAC,OAPA;MAQA;MACAC,YATA;MAUA;MACAC,cAXA;MAYA;MACAC,gBAbA;MAcA;MACAC,QAfA;MAgBA;MACAC,gBAjBA;MAkBA;MACAC,SAnBA;MAoBA;MACAC,WArBA;MAsBA;MACAC;QACAC,UADA;QAEAC,YAFA;QAGAnB,mBAHA;QAIAoB,aAJA;QAKAC,eALA;QAMAC,eANA;QAOAC,eAPA;QAQAC,YARA;QASAC,iBATA;QAUAC,gBAVA;QAWAC,mBAXA;QAYAC,kBAZA;QAaAC,kBAbA;QAcAC,gBAdA;QAeAC,iBAfA;QAgBAC;MAhBA,CAvBA;MAyCA;MACAC,QA1CA;MA2CA;MACAC;QACAlC,SACA;UAAAmC;UAAAC;UAAAC;QAAA,CADA,CADA;QAIAjB,UACA;UAAAe;UAAAC;UAAAC;QAAA,CADA;MAJA;IA5CA;EAqDA,CA9DA;EA+DAC,OA/DA,qBA+DA;IACA;EACA,CAjEA;EAkEAC;IACA;IACAC,OAFA,qBAEA;MAAA;;MACA;MACAC;QACA;QACA;QACA;MACA,CAJA;IAKA,CATA;IAUA;IACAC,MAXA,oBAWA;MACA;MACA;IACA,CAdA;IAeA;IACAC,KAhBA,mBAgBA;MACA;QACAC,YADA;QAEA5C,YAFA;QAGAoB,aAHA;QAIAC,eAJA;QAKAC,eALA;QAMAC,eANA;QAOAC,YAPA;QAQAC,iBARA;QASAC,gBATA;QAUAC,mBAVA;QAWAC,kBAXA;QAYAC,kBAZA;QAaAC,gBAbA;QAcAC,iBAdA;QAeAC,iBAfA;QAgBAa,YAhBA;QAiBAC,WAjBA;QAkBAC,WAlBA;QAmBAC,WAnBA;QAoBAC,WApBA;QAqBAC,cArBA;QAsBAC,gBAtBA;QAuBAC,cAvBA;QAwBAC;MAxBA;MA0BA;IACA,CA5CA;;IA6CA;IACAC,WA9CA,yBA8CA;MACA;MACA;IACA,CAjDA;;IAkDA;IACAC,UAnDA,wBAmDA;MACA;MACA;IACA,CAtDA;IAuDA;IACAC,qBAxDA,iCAwDAC,SAxDA,EAwDA;MACA;QAAA;MAAA;MACA;MACA;IACA,CA5DA;IA6DA;IACAC,YA9DA,wBA8DAC,GA9DA,EA8DA;MAAA;;MACA;MACA;MACA;QACA;;QACA;MACA,CAHA;IAIA;EArEA;AAlEA","names":["name","dicts","props","ipqcId","optType","components","Defectrecord","data","defect_qcid","defect_qclineid","defect_qctype","loading","ids","single","multiple","showSearch","total","ipqclineList","title","open","queryParams","pageNum","pageSize","indexId","indexCode","indexName","indexType","qcTool","checkMethod","standerVal","unitOfMeasure","thresholdMax","thresholdMin","crQuantity","majQuantity","minQuantity","form","rules","required","message","trigger","created","methods","getList","listIpqcline","cancel","reset","lineId","remark","attr1","attr2","attr3","attr4","createBy","createTime","updateBy","updateTime","handleQuery","resetQuery","handleSelectionChange","selection","handleDefect","row"],"sourceRoot":"src/views/mes/qc/ipqc","sources":["line.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-table v-loading=\"loading\" :data=\"ipqclineList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"检测项名称\" width=\"120px\" align=\"center\" prop=\"indexName\" />\n      <el-table-column label=\"检测项类型\" width=\"100px\" align=\"center\" prop=\"indexType\">\n        <template slot-scope=\"scope\">\n          <dict-tag :options=\"dict.type.mes_index_type\" :value=\"scope.row.indexType\"/>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"检测工具\" align=\"center\" prop=\"qcTool\" />\n      <el-table-column label=\"检测要求\" align=\"center\" prop=\"checkMethod\" />\n      <el-table-column label=\"标准值\" align=\"center\" prop=\"standerVal\" />\n      <el-table-column label=\"单位\" align=\"center\" prop=\"unitOfMeasure\" />\n      <el-table-column label=\"误差上限\" align=\"center\" prop=\"thresholdMax\" />\n      <el-table-column label=\"误差下限\" align=\"center\" prop=\"thresholdMin\" />\n      <el-table-column label=\"致命缺陷数量\" align=\"center\" prop=\"crQuantity\" />\n      <el-table-column label=\"严重缺陷数量\" align=\"center\" prop=\"majQuantity\" />\n      <el-table-column label=\"轻微缺陷数量\" align=\"center\" prop=\"minQuantity\" />\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleDefect(scope.row)\"\n            v-hasPermi=\"['mes:qc:ipqc:edit']\"\n            v-if=\"optType !='view'\"\n          >缺陷记录</el-button>        \n        </template>\n      </el-table-column>\n    </el-table>\n    \n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n    <Defectrecord ref=\"defectDialog\" :qcId=\"defect_qcid\" :lineId=\"defect_qclineid\" :qcType=\"defect_qctype\" :optType=\"optType\"></Defectrecord>\n  </div>\n</template>\n\n<script>\nimport { listIpqcline, getIpqcline, delIpqcline, addIpqcline, updateIpqcline } from \"@/api/mes/qc/ipqcline\";\nimport Defectrecord from \"../defectrecord/index.vue\"\nexport default {\n  name: \"Ipqcline\",\n  dicts: ['mes_index_type'],\n  props: {\n    ipqcId: null,\n    optType: undefined\n  },\n  components: {Defectrecord},\n  data() {\n    return {\n      defect_qcid: null,\n      defect_qclineid: null,\n      defect_qctype: 'IPQC',\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 过程检验单行表格数据\n      ipqclineList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        ipqcId: this.ipqcId,\n        indexId: null,\n        indexCode: null,\n        indexName: null,\n        indexType: null,\n        qcTool: null,\n        checkMethod: null,\n        standerVal: null,\n        unitOfMeasure: null,\n        thresholdMax: null,\n        thresholdMin: null,\n        crQuantity: null,\n        majQuantity: null,\n        minQuantity: null,\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        ipqcId: [\n          { required: true, message: \"检验单ID不能为空\", trigger: \"blur\" }\n        ],\n        indexId: [\n          { required: true, message: \"检测项ID不能为空\", trigger: \"blur\" }\n        ],\n      }\n    };\n  },  \n  created() {\n    this.getList();\n  },\n  methods: {\n    /** 查询过程检验单行列表 */\n    getList() {\n      this.loading = true;\n      listIpqcline(this.queryParams).then(response => {\n        this.ipqclineList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        lineId: null,\n        ipqcId: null,\n        indexId: null,\n        indexCode: null,\n        indexName: null,\n        indexType: null,\n        qcTool: null,\n        checkMethod: null,\n        standerVal: null,\n        unitOfMeasure: null,\n        thresholdMax: null,\n        thresholdMin: null,\n        crQuantity: null,\n        majQuantity: null,\n        minQuantity: null,\n        remark: null,\n        attr1: null,\n        attr2: null,\n        attr3: null,\n        attr4: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.lineId)\n      this.single = selection.length!==1\n      this.multiple = !selection.length\n    },\n    //缺陷记录\n    handleDefect(row){\n      this.defect_qcid = row.ipqcId;      \n      this.defect_qclineid = row.lineId;\n      this.$nextTick(() => {\n        this.$refs.defectDialog.showFlag = true;\n        this.$refs.defectDialog.getList();\n      })\n    }\n\n  }\n};\n</script>\n"]}]}