{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\plugins\\tab.js","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\plugins\\tab.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\babel.config.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\eslint-loader\\index.js","mtime":1662432869370}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIC8vIOWIt+aWsOW9k+WJjXRhYumhteetvgogIHJlZnJlc2hQYWdlOiBmdW5jdGlvbiByZWZyZXNoUGFnZShvYmopIHsKICAgIHZhciBfcm91dGVyJGN1cnJlbnRSb3V0ZSA9IHJvdXRlci5jdXJyZW50Um91dGUsCiAgICAgICAgcGF0aCA9IF9yb3V0ZXIkY3VycmVudFJvdXRlLnBhdGgsCiAgICAgICAgcXVlcnkgPSBfcm91dGVyJGN1cnJlbnRSb3V0ZS5xdWVyeSwKICAgICAgICBtYXRjaGVkID0gX3JvdXRlciRjdXJyZW50Um91dGUubWF0Y2hlZDsKCiAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHsKICAgICAgbWF0Y2hlZC5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgaWYgKG0uY29tcG9uZW50cyAmJiBtLmNvbXBvbmVudHMuZGVmYXVsdCAmJiBtLmNvbXBvbmVudHMuZGVmYXVsdC5uYW1lKSB7CiAgICAgICAgICBpZiAoIVsnTGF5b3V0JywgJ1BhcmVudFZpZXcnXS5pbmNsdWRlcyhtLmNvbXBvbmVudHMuZGVmYXVsdC5uYW1lKSkgewogICAgICAgICAgICBvYmogPSB7CiAgICAgICAgICAgICAgbmFtZTogbS5jb21wb25lbnRzLmRlZmF1bHQubmFtZSwKICAgICAgICAgICAgICBwYXRoOiBwYXRoLAogICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxDYWNoZWRWaWV3Jywgb2JqKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9vYmogPSBvYmosCiAgICAgICAgICBwYXRoID0gX29iai5wYXRoLAogICAgICAgICAgcXVlcnkgPSBfb2JqLnF1ZXJ5OwogICAgICByb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgcGF0aDogJy9yZWRpcmVjdCcgKyBwYXRoLAogICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8g5YWz6Zet5b2T5YmNdGFi6aG1562+77yM5omT5byA5paw6aG1562+CiAgY2xvc2VPcGVuUGFnZTogZnVuY3Rpb24gY2xvc2VPcGVuUGFnZShvYmopIHsKICAgIHN0b3JlLmRpc3BhdGNoKCJ0YWdzVmlldy9kZWxWaWV3Iiwgcm91dGVyLmN1cnJlbnRSb3V0ZSk7CgogICAgaWYgKG9iaiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiByb3V0ZXIucHVzaChvYmopOwogICAgfQogIH0sCiAgLy8g5YWz6Zet5oyH5a6adGFi6aG1562+CiAgY2xvc2VQYWdlOiBmdW5jdGlvbiBjbG9zZVBhZ2Uob2JqKSB7CiAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxWaWV3Jywgcm91dGVyLmN1cnJlbnRSb3V0ZSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBsYXN0UGF0aCA9IF9yZWYubGFzdFBhdGg7CiAgICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKGxhc3RQYXRoIHx8ICcvJyk7CiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgndGFnc1ZpZXcvZGVsVmlldycsIG9iaik7CiAgfSwKICAvLyDlhbPpl63miYDmnIl0YWLpobXnrb4KICBjbG9zZUFsbFBhZ2U6IGZ1bmN0aW9uIGNsb3NlQWxsUGFnZSgpIHsKICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgndGFnc1ZpZXcvZGVsQWxsVmlld3MnKTsKICB9LAogIC8vIOWFs+mXreW3puS+p3RhYumhteetvgogIGNsb3NlTGVmdFBhZ2U6IGZ1bmN0aW9uIGNsb3NlTGVmdFBhZ2Uob2JqKSB7CiAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbExlZnRUYWdzJywgb2JqIHx8IHJvdXRlci5jdXJyZW50Um91dGUpOwogIH0sCiAgLy8g5YWz6Zet5Y+z5L6ndGFi6aG1562+CiAgY2xvc2VSaWdodFBhZ2U6IGZ1bmN0aW9uIGNsb3NlUmlnaHRQYWdlKG9iaikgewogICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxSaWdodFRhZ3MnLCBvYmogfHwgcm91dGVyLmN1cnJlbnRSb3V0ZSk7CiAgfSwKICAvLyDlhbPpl63lhbbku5Z0YWLpobXnrb4KICBjbG9zZU90aGVyUGFnZTogZnVuY3Rpb24gY2xvc2VPdGhlclBhZ2Uob2JqKSB7CiAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbE90aGVyc1ZpZXdzJywgb2JqIHx8IHJvdXRlci5jdXJyZW50Um91dGUpOwogIH0sCiAgLy8g5re75YqgdGFi6aG1562+CiAgb3BlblBhZ2U6IGZ1bmN0aW9uIG9wZW5QYWdlKHRpdGxlLCB1cmwpIHsKICAgIHZhciBvYmogPSB7CiAgICAgIHBhdGg6IHVybCwKICAgICAgbWV0YTogewogICAgICAgIHRpdGxlOiB0aXRsZQogICAgICB9CiAgICB9OwogICAgc3RvcmUuZGlzcGF0Y2goJ3RhZ3NWaWV3L2FkZFZpZXcnLCBvYmopOwogICAgcmV0dXJuIHJvdXRlci5wdXNoKHVybCk7CiAgfSwKICAvLyDkv67mlLl0YWLpobXnrb4KICB1cGRhdGVQYWdlOiBmdW5jdGlvbiB1cGRhdGVQYWdlKG9iaikgewogICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy91cGRhdGVWaXNpdGVkVmlldycsIG9iaik7CiAgfQp9Ow=="},{"version":3,"names":["store","router","refreshPage","obj","currentRoute","path","query","matched","undefined","forEach","m","components","default","name","includes","dispatch","then","replace","closeOpenPage","push","closePage","lastPath","closeAllPage","closeLeftPage","closeRightPage","closeOtherPage","openPage","title","url","meta","updatePage"],"sources":["D:/resource/eclipse-workspace/ktg-mes-master/ktg-mes-ui-master/src/plugins/tab.js"],"sourcesContent":["import store from '@/store'\nimport router from '@/router';\n\nexport default {\n  // 刷新当前tab页签\n  refreshPage(obj) {\n    const { path, query, matched } = router.currentRoute;\n    if (obj === undefined) {\n      matched.forEach((m) => {\n        if (m.components && m.components.default && m.components.default.name) {\n          if (!['Layout', 'ParentView'].includes(m.components.default.name)) {\n            obj = { name: m.components.default.name, path: path, query: query };\n          }\n        }\n      });\n    }\n    return store.dispatch('tagsView/delCachedView', obj).then(() => {\n      const { path, query } = obj\n      router.replace({\n        path: '/redirect' + path,\n        query: query\n      })\n    })\n  },\n  // 关闭当前tab页签，打开新页签\n  closeOpenPage(obj) {\n    store.dispatch(\"tagsView/delView\", router.currentRoute);\n    if (obj !== undefined) {\n      return router.push(obj);\n    }\n  },\n  // 关闭指定tab页签\n  closePage(obj) {\n    if (obj === undefined) {\n      return store.dispatch('tagsView/delView', router.currentRoute).then(({ lastPath }) => {\n        return router.push(lastPath || '/');\n      });\n    }\n    return store.dispatch('tagsView/delView', obj);\n  },\n  // 关闭所有tab页签\n  closeAllPage() {\n    return store.dispatch('tagsView/delAllViews');\n  },\n  // 关闭左侧tab页签\n  closeLeftPage(obj) {\n    return store.dispatch('tagsView/delLeftTags', obj || router.currentRoute);\n  },\n  // 关闭右侧tab页签\n  closeRightPage(obj) {\n    return store.dispatch('tagsView/delRightTags', obj || router.currentRoute);\n  },\n  // 关闭其他tab页签\n  closeOtherPage(obj) {\n    return store.dispatch('tagsView/delOthersViews', obj || router.currentRoute);\n  },\n  // 添加tab页签\n  openPage(title, url) {\n    var obj = { path: url, meta: { title: title } }\n    store.dispatch('tagsView/addView', obj);\n    return router.push(url);\n  },\n  // 修改tab页签\n  updatePage(obj) {\n    return store.dispatch('tagsView/updateVisitedView', obj);\n  }\n}\n"],"mappings":"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"}]}