{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\qc\\oqc\\line.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\qc\\oqc\\line.vue","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3RPcWNsaW5lLCBnZXRPcWNsaW5lLCBkZWxPcWNsaW5lLCBhZGRPcWNsaW5lLCB1cGRhdGVPcWNsaW5lIH0gZnJvbSAiQC9hcGkvbWVzL3FjL29xY2xpbmUiOwppbXBvcnQgRGVmZWN0cmVjb3JkIGZyb20gIi4uL2RlZmVjdHJlY29yZC9pbmRleC52dWUiCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiT3FjbGluZSIsCiAgY29tcG9uZW50czoge0RlZmVjdHJlY29yZH0sCiAgZGljdHM6IFsnbWVzX2luZGV4X3R5cGUnXSwKICBwcm9wczogewogICAgb3FjSWQ6IG51bGwsCiAgICBvcHRUeXBlOiB1bmRlZmluZWQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZlY3RfcWNpZDogbnVsbCwKICAgICAgZGVmZWN0X3FjbGluZWlkOiBudWxsLAogICAgICBkZWZlY3RfcWN0eXBlOiAnT1FDJywKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOWHuui0p+ajgOmqjOWNleihjOihqOagvOaVsOaNrgogICAgICBvcWNsaW5lTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgb3FjSWQ6IHRoaXMub3FjSWQsCiAgICAgICAgaW5kZXhJZDogbnVsbCwKICAgICAgICBpbmRleENvZGU6IG51bGwsCiAgICAgICAgaW5kZXhOYW1lOiBudWxsLAogICAgICAgIGluZGV4VHlwZTogbnVsbCwKICAgICAgICBxY1Rvb2w6IG51bGwsCiAgICAgICAgY2hlY2tNZXRob2Q6IG51bGwsCiAgICAgICAgc3RhbmRlclZhbDogbnVsbCwKICAgICAgICB1bml0T2ZNZWFzdXJlOiBudWxsLAogICAgICAgIHRocmVzaG9sZE1heDogbnVsbCwKICAgICAgICB0aHJlc2hvbGRNaW46IG51bGwsCiAgICAgICAgY3JRdWFudGl0eTogbnVsbCwKICAgICAgICBtYWpRdWFudGl0eTogbnVsbCwKICAgICAgICBtaW5RdWFudGl0eTogbnVsbCwKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6Llh7rotKfmo4DpqozljZXooYzliJfooaggKi8KICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxpc3RPcWNsaW5lKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGRlYnVnZ2VyOwogICAgICAgIHRoaXMub3FjbGluZUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy/nvLrpmbforrDlvZUKICAgIGhhbmRsZURlZmVjdChyb3cpewogICAgICB0aGlzLmRlZmVjdF9xY2lkID0gcm93Lm9xY0lkOyAgICAgIAogICAgICB0aGlzLmRlZmVjdF9xY2xpbmVpZCA9IHJvdy5saW5lSWQ7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLmRlZmVjdERpYWxvZy5zaG93RmxhZyA9IHRydWU7CiAgICAgICAgdGhpcy4kcmVmcy5kZWZlY3REaWFsb2cuZ2V0TGlzdCgpOwogICAgICB9KQogICAgfQogIH0KfTsK"},{"version":3,"sources":["line.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"line.vue","sourceRoot":"src/views/mes/qc/oqc","sourcesContent":["<template>\n  <div class=\"app-container\">\n    \n    <el-table v-loading=\"loading\" :data=\"oqclineList\" >\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"检测项名称\" width=\"120px\" align=\"center\" prop=\"indexName\" />\n      <el-table-column label=\"检测项类型\" width=\"100px\" align=\"center\" prop=\"indexType\">\n        <template slot-scope=\"scope\">\n          <dict-tag :options=\"dict.type.mes_index_type\" :value=\"scope.row.indexType\"/>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"检测工具\" align=\"center\" prop=\"qcTool\" />\n      <el-table-column label=\"检测要求\" width=\"150px\" align=\"center\" prop=\"checkMethod\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"标准值\" align=\"center\" prop=\"standerVal\" />\n      <el-table-column label=\"单位\" align=\"center\" prop=\"unitOfMeasure\" />\n      <el-table-column label=\"误差上限\" align=\"center\" prop=\"thresholdMax\" />\n      <el-table-column label=\"误差下限\" align=\"center\" prop=\"thresholdMin\" />\n      <el-table-column label=\"致命缺陷数量\" align=\"center\" prop=\"crQuantity\" />\n      <el-table-column label=\"严重缺陷数量\" align=\"center\" prop=\"majQuantity\" />\n      <el-table-column label=\"轻微缺陷数量\" align=\"center\" prop=\"minQuantity\" />      \n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleDefect(scope.row)\"\n            v-hasPermi=\"['mes:qc:oqc:edit']\"\n            v-if=\"optType !='view'\"\n          >缺陷记录</el-button>        \n        </template>\n      </el-table-column>\n    </el-table>\n    \n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n    <Defectrecord ref=\"defectDialog\" :qcId=\"defect_qcid\" :lineId=\"defect_qclineid\" :qcType=\"defect_qctype\" :optType=\"optType\"></Defectrecord>\n  </div>\n</template>\n\n<script>\nimport { listOqcline, getOqcline, delOqcline, addOqcline, updateOqcline } from \"@/api/mes/qc/oqcline\";\nimport Defectrecord from \"../defectrecord/index.vue\"\nexport default {\n  name: \"Oqcline\",\n  components: {Defectrecord},\n  dicts: ['mes_index_type'],\n  props: {\n    oqcId: null,\n    optType: undefined\n  },\n  data() {\n    return {\n      defect_qcid: null,\n      defect_qclineid: null,\n      defect_qctype: 'OQC',\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 出货检验单行表格数据\n      oqclineList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        oqcId: this.oqcId,\n        indexId: null,\n        indexCode: null,\n        indexName: null,\n        indexType: null,\n        qcTool: null,\n        checkMethod: null,\n        standerVal: null,\n        unitOfMeasure: null,\n        thresholdMax: null,\n        thresholdMin: null,\n        crQuantity: null,\n        majQuantity: null,\n        minQuantity: null,\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    /** 查询出货检验单行列表 */\n    getList() {\n      this.loading = true;\n      listOqcline(this.queryParams).then(response => {\n        debugger;\n        this.oqclineList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n    //缺陷记录\n    handleDefect(row){\n      this.defect_qcid = row.oqcId;      \n      this.defect_qclineid = row.lineId;\n      this.$nextTick(() => {\n        this.$refs.defectDialog.showFlag = true;\n        this.$refs.defectDialog.getList();\n      })\n    }\n  }\n};\n</script>\n"]}]}