{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\utils\\request.js","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\utils\\request.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\babel.config.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\eslint-loader\\index.js","mtime":1662432869370}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovcmVzb3VyY2UvZWNsaXBzZS13b3Jrc3BhY2Uva3RnLW1lcy1tYXN0ZXIva3RnLW1lcy11aS1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9yZXNvdXJjZS9lY2xpcHNlLXdvcmtzcGFjZS9rdGctbWVzLW1hc3Rlci9rdGctbWVzLXVpLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIkQ6L3Jlc291cmNlL2VjbGlwc2Utd29ya3NwYWNlL2t0Zy1tZXMtbWFzdGVyL2t0Zy1tZXMtdWktbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBOb3RpZmljYXRpb24sIE1lc3NhZ2VCb3gsIE1lc3NhZ2UsIExvYWRpbmcgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCBlcnJvckNvZGUgZnJvbSAnQC91dGlscy9lcnJvckNvZGUnOwppbXBvcnQgeyB0YW5zUGFyYW1zLCBibG9iVmFsaWRhdGUgfSBmcm9tICJAL3V0aWxzL3J1b3lpIjsKaW1wb3J0IGNhY2hlIGZyb20gJ0AvcGx1Z2lucy9jYWNoZSc7CmltcG9ydCB7IHNhdmVBcyB9IGZyb20gJ2ZpbGUtc2F2ZXInOwp2YXIgZG93bmxvYWRMb2FkaW5nSW5zdGFuY2U7IC8vIOaYr+WQpuaYvuekuumHjeaWsOeZu+W9lQoKZXhwb3J0IHZhciBpc1JlbG9naW4gPSB7CiAgc2hvdzogZmFsc2UKfTsKYXhpb3MuZGVmYXVsdHMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04JzsgLy8g5Yib5bu6YXhpb3Plrp7kvosKCnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICAvLyBheGlvc+S4reivt+axgumFjee9ruaciWJhc2VVUkzpgInpobnvvIzooajnpLror7fmsYJVUkzlhazlhbHpg6jliIYKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLAogIC8vIOi2heaXtgogIHRpbWVvdXQ6IDEwMDAwCn0pOyAvLyByZXF1ZXN05oum5oiq5ZmoCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5piv5ZCm6ZyA6KaB6K6+572uIHRva2VuCiAgdmFyIGlzVG9rZW4gPSAoY29uZmlnLmhlYWRlcnMgfHwge30pLmlzVG9rZW4gPT09IGZhbHNlOyAvLyDmmK/lkKbpnIDopoHpmLLmraLmlbDmja7ph43lpI3mj5DkuqQKCiAgdmFyIGlzUmVwZWF0U3VibWl0ID0gKGNvbmZpZy5oZWFkZXJzIHx8IHt9KS5yZXBlYXRTdWJtaXQgPT09IGZhbHNlOwoKICBpZiAoZ2V0VG9rZW4oKSAmJiAhaXNUb2tlbikgewogICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIGdldFRva2VuKCk7IC8vIOiuqeavj+S4quivt+axguaQuuW4puiHquWumuS5iXRva2VuIOivt+agueaNruWunumZheaDheWGteiHquihjOS/ruaUuQogIH0gLy8gZ2V06K+35rGC5pig5bCEcGFyYW1z5Y+C5pWwCgoKICBpZiAoY29uZmlnLm1ldGhvZCA9PT0gJ2dldCcgJiYgY29uZmlnLnBhcmFtcykgewogICAgdmFyIHVybCA9IGNvbmZpZy51cmwgKyAnPycgKyB0YW5zUGFyYW1zKGNvbmZpZy5wYXJhbXMpOwogICAgdXJsID0gdXJsLnNsaWNlKDAsIC0xKTsKICAgIGNvbmZpZy5wYXJhbXMgPSB7fTsKICAgIGNvbmZpZy51cmwgPSB1cmw7CiAgfQoKICBpZiAoIWlzUmVwZWF0U3VibWl0ICYmIChjb25maWcubWV0aG9kID09PSAncG9zdCcgfHwgY29uZmlnLm1ldGhvZCA9PT0gJ3B1dCcpKSB7CiAgICB2YXIgcmVxdWVzdE9iaiA9IHsKICAgICAgdXJsOiBjb25maWcudXJsLAogICAgICBkYXRhOiBfdHlwZW9mKGNvbmZpZy5kYXRhKSA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeShjb25maWcuZGF0YSkgOiBjb25maWcuZGF0YSwKICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkKICAgIH07CiAgICB2YXIgc2Vzc2lvbk9iaiA9IGNhY2hlLnNlc3Npb24uZ2V0SlNPTignc2Vzc2lvbk9iaicpOwoKICAgIGlmIChzZXNzaW9uT2JqID09PSB1bmRlZmluZWQgfHwgc2Vzc2lvbk9iaiA9PT0gbnVsbCB8fCBzZXNzaW9uT2JqID09PSAnJykgewogICAgICBjYWNoZS5zZXNzaW9uLnNldEpTT04oJ3Nlc3Npb25PYmonLCByZXF1ZXN0T2JqKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBzX3VybCA9IHNlc3Npb25PYmoudXJsOyAvLyDor7fmsYLlnLDlnYAKCiAgICAgIHZhciBzX2RhdGEgPSBzZXNzaW9uT2JqLmRhdGE7IC8vIOivt+axguaVsOaNrgoKICAgICAgdmFyIHNfdGltZSA9IHNlc3Npb25PYmoudGltZTsgLy8g6K+35rGC5pe26Ze0CgogICAgICB2YXIgaW50ZXJ2YWwgPSAxMDAwOyAvLyDpl7TpmpTml7bpl7QobXMp77yM5bCP5LqO5q2k5pe26Ze06KeG5Li66YeN5aSN5o+Q5LqkCgogICAgICBpZiAoc19kYXRhID09PSByZXF1ZXN0T2JqLmRhdGEgJiYgcmVxdWVzdE9iai50aW1lIC0gc190aW1lIDwgaW50ZXJ2YWwgJiYgc191cmwgPT09IHJlcXVlc3RPYmoudXJsKSB7CiAgICAgICAgdmFyIG1lc3NhZ2UgPSAn5pWw5o2u5q2j5Zyo5aSE55CG77yM6K+35Yu/6YeN5aSN5o+Q5LqkJzsKICAgICAgICBjb25zb2xlLndhcm4oIlsiLmNvbmNhdChzX3VybCwgIl06ICIpICsgbWVzc2FnZSk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihtZXNzYWdlKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FjaGUuc2Vzc2lvbi5zZXRKU09OKCdzZXNzaW9uT2JqJywgcmVxdWVzdE9iaik7CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKGVycm9yKTsKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyDlk43lupTmi6bmiKrlmagKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgLy8g5pyq6K6+572u54q25oCB56CB5YiZ6buY6K6k5oiQ5Yqf54q25oCBCiAgdmFyIGNvZGUgPSByZXMuZGF0YS5jb2RlIHx8IDIwMDsgLy8g6I635Y+W6ZSZ6K+v5L+h5oGvCgogIHZhciBtc2cgPSBlcnJvckNvZGVbY29kZV0gfHwgcmVzLmRhdGEubXNnIHx8IGVycm9yQ29kZVsnZGVmYXVsdCddOyAvLyDkuozov5vliLbmlbDmja7liJnnm7TmjqXov5Tlm54KCiAgaWYgKHJlcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZSA9PT0gJ2Jsb2InIHx8IHJlcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZSA9PT0gJ2FycmF5YnVmZmVyJykgewogICAgcmV0dXJuIHJlcy5kYXRhOwogIH0KCiAgaWYgKGNvZGUgPT09IDQwMSkgewogICAgaWYgKCFpc1JlbG9naW4uc2hvdykgewogICAgICBpc1JlbG9naW4uc2hvdyA9IHRydWU7CiAgICAgIE1lc3NhZ2VCb3guY29uZmlybSgn55m75b2V54q25oCB5bey6L+H5pyf77yM5oKo5Y+v5Lul57un57ut55WZ5Zyo6K+l6aG16Z2i77yM5oiW6ICF6YeN5paw55m75b2VJywgJ+ezu+e7n+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+mHjeaWsOeZu+W9lScsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGlzUmVsb2dpbi5zaG93ID0gZmFsc2U7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0xvZ091dCcpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvaW5kZXgnOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgaXNSZWxvZ2luLnNob3cgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCfml6DmlYjnmoTkvJror53vvIzmiJbogIXkvJror53lt7Lov4fmnJ/vvIzor7fph43mlrDnmbvlvZXjgIInKTsKICB9IGVsc2UgaWYgKGNvZGUgPT09IDUwMCkgewogICAgTWVzc2FnZSh7CiAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgdHlwZTogJ2Vycm9yJwogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG1zZykpOwogIH0gZWxzZSBpZiAoY29kZSAhPT0gMjAwKSB7CiAgICBOb3RpZmljYXRpb24uZXJyb3IoewogICAgICB0aXRsZTogbXNnCiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnZXJyb3InKTsKICB9IGVsc2UgewogICAgcmV0dXJuIHJlcy5kYXRhOwogIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coJ2VycicgKyBlcnJvcik7CiAgdmFyIG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwoKICBpZiAobWVzc2FnZSA9PSAiTmV0d29yayBFcnJvciIpIHsKICAgIG1lc3NhZ2UgPSAi5ZCO56uv5o6l5Y+j6L+e5o6l5byC5bi4IjsKICB9IGVsc2UgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoInRpbWVvdXQiKSkgewogICAgbWVzc2FnZSA9ICLns7vnu5/mjqXlj6Por7fmsYLotoXml7YiOwogIH0gZWxzZSBpZiAobWVzc2FnZS5pbmNsdWRlcygiUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSIpKSB7CiAgICBtZXNzYWdlID0gIuezu+e7n+aOpeWPoyIgKyBtZXNzYWdlLnN1YnN0cihtZXNzYWdlLmxlbmd0aCAtIDMpICsgIuW8guW4uCI7CiAgfQoKICBNZXNzYWdlKHsKICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICB0eXBlOiAnZXJyb3InLAogICAgZHVyYXRpb246IDUgKiAxMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOmAmueUqOS4i+i9veaWueazlQoKZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkKHVybCwgcGFyYW1zLCBmaWxlbmFtZSkgewogIGRvd25sb2FkTG9hZGluZ0luc3RhbmNlID0gTG9hZGluZy5zZXJ2aWNlKHsKICAgIHRleHQ6ICLmraPlnKjkuIvovb3mlbDmja7vvIzor7fnqI3lgJkiLAogICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsCiAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIgogIH0pOwogIHJldHVybiBzZXJ2aWNlLnBvc3QodXJsLCBwYXJhbXMsIHsKICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgIHJldHVybiB0YW5zUGFyYW1zKHBhcmFtcyk7CiAgICB9XSwKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgICB9LAogICAgcmVzcG9uc2VUeXBlOiAnYmxvYicKICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZGF0YSkgewogICAgICB2YXIgaXNMb2dpbiwgYmxvYiwgcmVzVGV4dCwgcnNwT2JqLCBlcnJNc2c7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gYmxvYlZhbGlkYXRlKGRhdGEpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGlzTG9naW4gPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWlzTG9naW4pIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW2RhdGFdKTsKICAgICAgICAgICAgICBzYXZlQXMoYmxvYiwgZmlsZW5hbWUpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIGRhdGEudGV4dCgpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICByZXNUZXh0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByc3BPYmogPSBKU09OLnBhcnNlKHJlc1RleHQpOwogICAgICAgICAgICAgIGVyck1zZyA9IGVycm9yQ29kZVtyc3BPYmouY29kZV0gfHwgcnNwT2JqLm1zZyB8fCBlcnJvckNvZGVbJ2RlZmF1bHQnXTsKICAgICAgICAgICAgICBNZXNzYWdlLmVycm9yKGVyck1zZyk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGRvd25sb2FkTG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHIpIHsKICAgIGNvbnNvbGUuZXJyb3Iocik7CiAgICBNZXNzYWdlLmVycm9yKCfkuIvovb3mlofku7blh7rnjrDplJnor6/vvIzor7fogZTns7vnrqHnkIblkZjvvIEnKTsKICAgIGRvd25sb2FkTG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CiAgfSk7Cn0KZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["axios","Notification","MessageBox","Message","Loading","store","getToken","errorCode","tansParams","blobValidate","cache","saveAs","downloadLoadingInstance","isRelogin","show","defaults","headers","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","isToken","isRepeatSubmit","repeatSubmit","method","params","url","slice","requestObj","data","JSON","stringify","time","Date","getTime","sessionObj","session","getJSON","undefined","setJSON","s_url","s_data","s_time","interval","message","console","warn","Promise","reject","Error","error","log","response","res","code","msg","responseType","confirm","confirmButtonText","cancelButtonText","type","then","dispatch","location","href","catch","title","includes","substr","length","duration","download","filename","text","spinner","background","post","transformRequest","isLogin","blob","Blob","resText","rspObj","parse","errMsg","close","r"],"sources":["D:/resource/eclipse-workspace/ktg-mes-master/ktg-mes-ui-master/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport { Notification, MessageBox, Message, Loading } from 'element-ui'\nimport store from '@/store'\nimport { getToken } from '@/utils/auth'\nimport errorCode from '@/utils/errorCode'\nimport { tansParams, blobValidate } from \"@/utils/ruoyi\";\nimport cache from '@/plugins/cache'\nimport { saveAs } from 'file-saver'\n\nlet downloadLoadingInstance;\n// 是否显示重新登录\nexport let isRelogin = { show: false };\n\naxios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8'\n// 创建axios实例\nconst service = axios.create({\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\n  baseURL: process.env.VUE_APP_BASE_API,\n  // 超时\n  timeout: 10000\n})\n\n// request拦截器\nservice.interceptors.request.use(config => {\n  // 是否需要设置 token\n  const isToken = (config.headers || {}).isToken === false\n  // 是否需要防止数据重复提交\n  const isRepeatSubmit = (config.headers || {}).repeatSubmit === false\n  if (getToken() && !isToken) {\n    config.headers['Authorization'] = 'Bearer ' + getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\n  }\n  // get请求映射params参数\n  if (config.method === 'get' && config.params) {\n    let url = config.url + '?' + tansParams(config.params);\n    url = url.slice(0, -1);\n    config.params = {};\n    config.url = url;\n  }\n  if (!isRepeatSubmit && (config.method === 'post' || config.method === 'put')) {\n    const requestObj = {\n      url: config.url,\n      data: typeof config.data === 'object' ? JSON.stringify(config.data) : config.data,\n      time: new Date().getTime()\n    }\n    const sessionObj = cache.session.getJSON('sessionObj')\n    if (sessionObj === undefined || sessionObj === null || sessionObj === '') {\n      cache.session.setJSON('sessionObj', requestObj)\n    } else {\n      const s_url = sessionObj.url;                  // 请求地址\n      const s_data = sessionObj.data;                // 请求数据\n      const s_time = sessionObj.time;                // 请求时间\n      const interval = 1000;                         // 间隔时间(ms)，小于此时间视为重复提交\n      if (s_data === requestObj.data && requestObj.time - s_time < interval && s_url === requestObj.url) {\n        const message = '数据正在处理，请勿重复提交';\n        console.warn(`[${s_url}]: ` + message)\n        return Promise.reject(new Error(message))\n      } else {\n        cache.session.setJSON('sessionObj', requestObj)\n      }\n    }\n  }\n  return config\n}, error => {\n    console.log(error)\n    Promise.reject(error)\n})\n\n// 响应拦截器\nservice.interceptors.response.use(res => {\n    // 未设置状态码则默认成功状态\n    const code = res.data.code || 200;\n    // 获取错误信息\n    const msg = errorCode[code] || res.data.msg || errorCode['default']\n    // 二进制数据则直接返回\n    if(res.request.responseType ===  'blob' || res.request.responseType ===  'arraybuffer'){\n      return res.data\n    }\n    if (code === 401) {\n      if (!isRelogin.show) {\n        isRelogin.show = true;\n        MessageBox.confirm('登录状态已过期，您可以继续留在该页面，或者重新登录', '系统提示', {\n          confirmButtonText: '重新登录',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).then(() => {\n        isRelogin.show = false;\n        store.dispatch('LogOut').then(() => {\n          location.href = '/index';\n        })\n      }).catch(() => {\n        isRelogin.show = false;\n      });\n    }\n      return Promise.reject('无效的会话，或者会话已过期，请重新登录。')\n    } else if (code === 500) {\n      Message({\n        message: msg,\n        type: 'error'\n      })\n      return Promise.reject(new Error(msg))\n    } else if (code !== 200) {\n      Notification.error({\n        title: msg\n      })\n      return Promise.reject('error')\n    } else {\n      return res.data\n    }\n  },\n  error => {\n    console.log('err' + error)\n    let { message } = error;\n    if (message == \"Network Error\") {\n      message = \"后端接口连接异常\";\n    }\n    else if (message.includes(\"timeout\")) {\n      message = \"系统接口请求超时\";\n    }\n    else if (message.includes(\"Request failed with status code\")) {\n      message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\n    }\n    Message({\n      message: message,\n      type: 'error',\n      duration: 5 * 1000\n    })\n    return Promise.reject(error)\n  }\n)\n\n// 通用下载方法\nexport function download(url, params, filename) {\n  downloadLoadingInstance = Loading.service({ text: \"正在下载数据，请稍候\", spinner: \"el-icon-loading\", background: \"rgba(0, 0, 0, 0.7)\", })\n  return service.post(url, params, {\n    transformRequest: [(params) => { return tansParams(params) }],\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n    responseType: 'blob'\n  }).then(async (data) => {\n    const isLogin = await blobValidate(data);\n    if (isLogin) {\n      const blob = new Blob([data])\n      saveAs(blob, filename)\n    } else {\n      const resText = await data.text();\n      const rspObj = JSON.parse(resText);\n      const errMsg = errorCode[rspObj.code] || rspObj.msg || errorCode['default']\n      Message.error(errMsg);\n    }\n    downloadLoadingInstance.close();\n  }).catch((r) => {\n    console.error(r)\n    Message.error('下载文件出现错误，请联系管理员！')\n    downloadLoadingInstance.close();\n  })\n}\n\nexport default service\n"],"mappings":"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"}]}