{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\wm\\issue\\line.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\wm\\issue\\line.vue","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3RJc3N1ZWxpbmUsIGdldElzc3VlbGluZSwgZGVsSXNzdWVsaW5lLCBhZGRJc3N1ZWxpbmUsIHVwZGF0ZUlzc3VlbGluZSB9IGZyb20gIkAvYXBpL21lcy93bS9pc3N1ZWxpbmUiOwppbXBvcnQgU3RvY2tTZWxlY3QgZnJvbSAiQC9jb21wb25lbnRzL3N0b2NrU2VsZWN0L3NpbmdsZS52dWUiCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSXNzdWVsaW5lIiwKICBjb21wb25lbnRzOntTdG9ja1NlbGVjdH0sCiAgICBwcm9wczp7CiAgICBvcHRUeXBlOiBudWxsLAogICAgaXNzdWVJZDogbnVsbCwKICAgIHdhcmVob3VzZUlkOiBudWxsLAogICAgbG9jYXRpb25JZDogbnVsbCwKICAgIGFyZWFJZDogbnVsbAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDnlJ/kuqfpoobmlpnljZXooYzooajmoLzmlbDmja4KICAgICAgaXNzdWVsaW5lTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgaXNzdWVJZDogdGhpcy5pc3N1ZUlkLAogICAgICAgIGl0ZW1JZDogbnVsbCwKICAgICAgICBpdGVtQ29kZTogbnVsbCwKICAgICAgICBpdGVtTmFtZTogbnVsbCwKICAgICAgICBzcGVjaWZpY2F0aW9uOiBudWxsLAogICAgICAgIHVuaXRPZk1lYXN1cmU6IG51bGwsCiAgICAgICAgcXVhbnRpdHlJc3N1ZWQ6IG51bGwsCiAgICAgICAgYmF0Y2hDb2RlOiBudWxsLAogICAgICAgIHdhcmVob3VzZUlkOiBudWxsLAogICAgICAgIHdhcmVob3VzZUNvZGU6IG51bGwsCiAgICAgICAgd2FyZWhvdXNlTmFtZTogbnVsbCwKICAgICAgICBsb2NhdGlvbklkOiBudWxsLAogICAgICAgIGxvY2F0aW9uQ29kZTogbnVsbCwKICAgICAgICBsb2NhdGlvbk5hbWU6IG51bGwsCiAgICAgICAgYXJlYUlkOiBudWxsLAogICAgICAgIGFyZWFDb2RlOiBudWxsLAogICAgICAgIGFyZWFOYW1lOiBudWxsLAogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczogewogICAgICAgIGl0ZW1JZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS6p+WTgeeJqeaWmeS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXSwKICAgICAgICBxdWFudGl0eUlzc3VlZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIumihuaWmeaVsOmHj+S4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXSwKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6LnlJ/kuqfpoobmlpnljZXooYzliJfooaggKi8KICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxpc3RJc3N1ZWxpbmUodGhpcy5xdWVyeVBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5pc3N1ZWxpbmVMaXN0ID0gcmVzcG9uc2Uucm93czsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBsaW5lSWQ6IG51bGwsCiAgICAgICAgaXNzdWVJZDogdGhpcy5pc3N1ZUlkLAogICAgICAgIGl0ZW1JZDogbnVsbCwKICAgICAgICBpdGVtQ29kZTogbnVsbCwKICAgICAgICBpdGVtTmFtZTogbnVsbCwKICAgICAgICBzcGVjaWZpY2F0aW9uOiBudWxsLAogICAgICAgIHVuaXRPZk1lYXN1cmU6IG51bGwsCiAgICAgICAgcXVhbnRpdHlJc3N1ZWQ6IG51bGwsCiAgICAgICAgYmF0Y2hDb2RlOiBudWxsLAogICAgICAgIHdhcmVob3VzZUlkOiBudWxsLAogICAgICAgIHdhcmVob3VzZUNvZGU6IG51bGwsCiAgICAgICAgd2FyZWhvdXNlTmFtZTogbnVsbCwKICAgICAgICBsb2NhdGlvbklkOiBudWxsLAogICAgICAgIGxvY2F0aW9uQ29kZTogbnVsbCwKICAgICAgICBsb2NhdGlvbk5hbWU6IG51bGwsCiAgICAgICAgYXJlYUlkOiBudWxsLAogICAgICAgIGFyZWFDb2RlOiBudWxsLAogICAgICAgIGFyZWFOYW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbCwKICAgICAgICBhdHRyMTogbnVsbCwKICAgICAgICBhdHRyMjogbnVsbCwKICAgICAgICBhdHRyMzogbnVsbCwKICAgICAgICBhdHRyNDogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0ubGluZUlkKQogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGghPT0xCiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aAogICAgfSwKICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOeUn+S6p+mihuaWmeWNleihjCI7CiAgICB9LAogICAgLyoqIOS/ruaUueaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIGNvbnN0IGxpbmVJZCA9IHJvdy5saW5lSWQgfHwgdGhpcy5pZHMKICAgICAgZ2V0SXNzdWVsaW5lKGxpbmVJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5mb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICAgIHRoaXMudGl0bGUgPSAi5L+u5pS555Sf5Lqn6aKG5paZ5Y2V6KGMIjsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOaPkOS6pOaMiemSriAqLwogICAgc3VibWl0Rm9ybSgpIHsKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICh0aGlzLmZvcm0ubGluZUlkICE9IG51bGwpIHsKICAgICAgICAgICAgdXBkYXRlSXNzdWVsaW5lKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5L+u5pS55oiQ5YqfIik7CiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWRkSXNzdWVsaW5lKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlKHJvdykgewogICAgICBjb25zdCBsaW5lSWRzID0gcm93LmxpbmVJZCB8fCB0aGlzLmlkczsKICAgICAgdGhpcy4kbW9kYWwuY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk55Sf5Lqn6aKG5paZ5Y2V6KGM57yW5Y+35Li6IicgKyBsaW5lSWRzICsgJyLnmoTmlbDmja7pobnvvJ8nKS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBkZWxJc3N1ZWxpbmUobGluZUlkcyk7CiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0U3RvY2soKXsKICAgICAgdGhpcy4kcmVmcy5zdG9ja1NlbGVjdC5zaG93RmxhZyA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMuc3RvY2tTZWxlY3QuZ2V0TGlzdCgpOwogICAgfSwKICAgICAgICAvL+eJqeaWmemAieaLqeW8ueWHuuahhgogICAgb25TdG9ja1NlbGVjdGVkKG9iail7CiAgICAgICAgaWYob2JqICE9IHVuZGVmaW5lZCAmJiBvYmogIT0gbnVsbCl7CiAgICAgICAgICB0aGlzLmZvcm0ubWF0ZXJpYWxTdG9ja0lkID0gb2JqLm1hdGVyaWFsU3RvY2tJZDsKICAgICAgICAgIHRoaXMuZm9ybS5pdGVtSWQgPSBvYmouaXRlbUlkOwogICAgICAgICAgdGhpcy5mb3JtLml0ZW1Db2RlID0gb2JqLml0ZW1Db2RlOwogICAgICAgICAgdGhpcy5mb3JtLml0ZW1OYW1lID0gb2JqLml0ZW1OYW1lOwogICAgICAgICAgdGhpcy5mb3JtLnNwZWNpZmljYXRpb24gPSBvYmouc3BlY2lmaWNhdGlvbjsKICAgICAgICAgIHRoaXMuZm9ybS51bml0T2ZNZWFzdXJlID0gb2JqLnVuaXRPZk1lYXN1cmU7ICAKICAgICAgICAgIHRoaXMuZm9ybS53YXJlaG91c2VJZCA9IG9iai53YXJlaG91c2VJZDsKICAgICAgICAgIHRoaXMuZm9ybS53YXJlaG91c2VDb2RlID0gb2JqLndhcmVob3VzZUNvZGU7CiAgICAgICAgICB0aGlzLmZvcm0ud2FyZWhvdXNlTmFtZSA9IG9iai53YXJlaG91c2VOYW1lOwogICAgICAgICAgdGhpcy5mb3JtLmxvY2F0aW9uSWQgPSBvYmoubG9jYXRpb25JZDsKICAgICAgICAgIHRoaXMuZm9ybS5sb2NhdGlvbkNvZGUgPSBvYmoubG9jYXRpb25Db2RlOwogICAgICAgICAgdGhpcy5mb3JtLmxvY2F0aW9uTmFtZSA9IG9iai5sb2NhdGlvbk5hbWU7CiAgICAgICAgICB0aGlzLmZvcm0uYXJlYUlkID0gb2JqLmFyZWFJZDsKICAgICAgICAgIHRoaXMuZm9ybS5hcmVhQ29kZSA9IG9iai5hcmVhQ29kZTsKICAgICAgICAgIHRoaXMuZm9ybS5hcmVhTmFtZSA9IG9iai5hcmVhTmFtZTsKICAgICAgICAgIHRoaXMuZm9ybS5xdWFudGl0eUlzc3VlZCA9IG9iai5xdWFudGl0eU9uaGFuZDsKICAgICAgICAgIHRoaXMuZm9ybS5xdWFudGl0eU1heCA9IG9iai5xdWFudGl0eU9uaGFuZDsKICAgICAgICB9CiAgICB9LAogICAgLyoqIOWvvOWHuuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRXhwb3J0KCkgewogICAgICB0aGlzLmRvd25sb2FkKCd3bS9pc3N1ZWxpbmUvZXhwb3J0JywgewogICAgICAgIC4uLnRoaXMucXVlcnlQYXJhbXMKICAgICAgfSwgYGlzc3VlbGluZV8ke25ldyBEYXRlKCkuZ2V0VGltZSgpfS54bHN4YCkKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["line.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"line.vue","sourceRoot":"src/views/mes/wm/issue","sourcesContent":["<template>\n  <div class=\"app-container\">    \n    <el-row v-if=\"optType != 'view'\" :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n          v-hasPermi=\"['mes:wm:issueheader:add']\"\n        >新增</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"success\"\n          plain\n          icon=\"el-icon-edit\"\n          size=\"mini\"\n          :disabled=\"single\"\n          @click=\"handleUpdate\"\n          v-hasPermi=\"['mes:wm:issueheader:edit']\"\n        >修改</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n          v-hasPermi=\"['mes:wm:issueheader:remove']\"\n        >删除</el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"issuelineList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"产品物料编码\" width=\"120px\" align=\"center\" prop=\"itemCode\" />\n      <el-table-column label=\"产品物料名称\" width=\"120px\"  align=\"center\" prop=\"itemName\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"规格型号\" align=\"center\" prop=\"specification\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"单位\" align=\"center\" prop=\"unitOfMeasure\" />\n      <el-table-column label=\"领料数量\" align=\"center\" prop=\"quantityIssued\" />\n      <el-table-column label=\"批次号\" align=\"center\" prop=\"batchCode\" />\n      <el-table-column label=\"仓库名称\" align=\"center\" prop=\"warehouseName\" />\n      <el-table-column label=\"库区名称\" align=\"center\" prop=\"locationName\" />\n      <el-table-column label=\"库位名称\" align=\"center\" prop=\"areaName\" />\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"操作\" align=\"center\" v-if=\"optType != 'view'\" width=\"100px\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n            v-hasPermi=\"['mes:wm:issueheader:edit']\"\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n            v-hasPermi=\"['mes:wm:issueheader:remove']\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    \n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <!-- 添加或修改生产领料单行对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"960px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n        <el-row>\n            <el-col :span=\"8\">\n                <el-form-item label=\"产品物料编码\" prop=\"itemCode\">\n                    <el-input v-model=\"form.itemCode\" readonly=\"readonly\" placeholder=\"请选择产品物料编码\" >\n                      <el-button slot=\"append\" @click=\"handleSelectStock\" icon=\"el-icon-search\"></el-button>\n                    </el-input>\n                </el-form-item>\n                <StockSelect ref=\"stockSelect\" :batchCode=\"batchCdoe\" :vendorId=\"vendorId\" @onSelected=\"onStockSelected\"></StockSelect>\n            </el-col>\n            <el-col :span=\"8\">\n                <el-form-item label=\"产品物料名称\" prop=\"itemName\">\n                    <el-input v-model=\"form.itemName\" readonly=\"readonly\" />\n                </el-form-item>\n            </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"领料数量\" prop=\"quantityIssued\">\n              <el-input-number :max=\"form.quantityMax\" v-model=\"form.quantityIssued\" placeholder=\"请输入领料数量\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n         <el-row>\n            <el-col :span=\"24\">\n                <el-form-item label=\"规格型号\" prop=\"specification\">\n                    <el-input v-model=\"form.specification\" readonly=\"readonly\" type=\"textarea\" />\n                </el-form-item>\n            </el-col>\n        </el-row>\n        <el-row>\n            <el-col :span=\"8\">\n              <el-form-item label=\"单位\" prop=\"unitOfMeasure\">\n                <el-input v-model=\"form.unitOfMeasure\" readonly=\"readonly\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item label=\"批次号\" prop=\"batchCode\">\n                <el-input v-model=\"form.batchCode\" readonly=\"readonly\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n\n            </el-col>\n        </el-row>\n        <el-row>\n            <el-col :span=\"8\">\n              <el-form-item label=\"仓库\" prop=\"warehouseName\">\n                <el-input v-model=\"form.warehouseName\" readonly=\"readonly\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item label=\"库区\" prop=\"locationName\">\n                <el-input v-model=\"form.locationName\" readonly=\"readonly\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item label=\"库位\" prop=\"areaName\">\n                <el-input v-model=\"form.areaName\" readonly=\"readonly\" />\n              </el-form-item>\n            </el-col>\n        </el-row>\n        <el-row>\n            <el-col :span=\"24\">\n              <el-form-item label=\"备注\" prop=\"remark\">\n                <el-input v-model=\"form.remark\" type=\"textarea\" placeholder=\"请输入内容\" />\n              </el-form-item>\n            </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { listIssueline, getIssueline, delIssueline, addIssueline, updateIssueline } from \"@/api/mes/wm/issueline\";\nimport StockSelect from \"@/components/stockSelect/single.vue\"\nexport default {\n  name: \"Issueline\",\n  components:{StockSelect},\n    props:{\n    optType: null,\n    issueId: null,\n    warehouseId: null,\n    locationId: null,\n    areaId: null\n  },\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 生产领料单行表格数据\n      issuelineList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        issueId: this.issueId,\n        itemId: null,\n        itemCode: null,\n        itemName: null,\n        specification: null,\n        unitOfMeasure: null,\n        quantityIssued: null,\n        batchCode: null,\n        warehouseId: null,\n        warehouseCode: null,\n        warehouseName: null,\n        locationId: null,\n        locationCode: null,\n        locationName: null,\n        areaId: null,\n        areaCode: null,\n        areaName: null,\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        itemId: [\n          { required: true, message: \"产品物料不能为空\", trigger: \"blur\" }\n        ],\n        quantityIssued: [\n          { required: true, message: \"领料数量不能为空\", trigger: \"blur\" }\n        ],\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    /** 查询生产领料单行列表 */\n    getList() {\n      this.loading = true;\n      listIssueline(this.queryParams).then(response => {\n        this.issuelineList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        lineId: null,\n        issueId: this.issueId,\n        itemId: null,\n        itemCode: null,\n        itemName: null,\n        specification: null,\n        unitOfMeasure: null,\n        quantityIssued: null,\n        batchCode: null,\n        warehouseId: null,\n        warehouseCode: null,\n        warehouseName: null,\n        locationId: null,\n        locationCode: null,\n        locationName: null,\n        areaId: null,\n        areaCode: null,\n        areaName: null,\n        remark: null,\n        attr1: null,\n        attr2: null,\n        attr3: null,\n        attr4: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.lineId)\n      this.single = selection.length!==1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加生产领料单行\";\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      const lineId = row.lineId || this.ids\n      getIssueline(lineId).then(response => {\n        this.form = response.data;\n        this.open = true;\n        this.title = \"修改生产领料单行\";\n      });\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          if (this.form.lineId != null) {\n            updateIssueline(this.form).then(response => {\n              this.$modal.msgSuccess(\"修改成功\");\n              this.open = false;\n              this.getList();\n            });\n          } else {\n            addIssueline(this.form).then(response => {\n              this.$modal.msgSuccess(\"新增成功\");\n              this.open = false;\n              this.getList();\n            });\n          }\n        }\n      });\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const lineIds = row.lineId || this.ids;\n      this.$modal.confirm('是否确认删除生产领料单行编号为\"' + lineIds + '\"的数据项？').then(function() {\n        return delIssueline(lineIds);\n      }).then(() => {\n        this.getList();\n        this.$modal.msgSuccess(\"删除成功\");\n      }).catch(() => {});\n    },\n    handleSelectStock(){\n      this.$refs.stockSelect.showFlag = true;\n      this.$refs.stockSelect.getList();\n    },\n        //物料选择弹出框\n    onStockSelected(obj){\n        if(obj != undefined && obj != null){\n          this.form.materialStockId = obj.materialStockId;\n          this.form.itemId = obj.itemId;\n          this.form.itemCode = obj.itemCode;\n          this.form.itemName = obj.itemName;\n          this.form.specification = obj.specification;\n          this.form.unitOfMeasure = obj.unitOfMeasure;  \n          this.form.warehouseId = obj.warehouseId;\n          this.form.warehouseCode = obj.warehouseCode;\n          this.form.warehouseName = obj.warehouseName;\n          this.form.locationId = obj.locationId;\n          this.form.locationCode = obj.locationCode;\n          this.form.locationName = obj.locationName;\n          this.form.areaId = obj.areaId;\n          this.form.areaCode = obj.areaCode;\n          this.form.areaName = obj.areaName;\n          this.form.quantityIssued = obj.quantityOnhand;\n          this.form.quantityMax = obj.quantityOnhand;\n        }\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      this.download('wm/issueline/export', {\n        ...this.queryParams\n      }, `issueline_${new Date().getTime()}.xlsx`)\n    }\n  }\n};\n</script>\n"]}]}