{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\components\\workorderSelect\\single.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\components\\workorderSelect\\single.vue","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3RXb3Jrb3JkZXJ9IGZyb20gIkAvYXBpL21lcy9wcm8vd29ya29yZGVyIjsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1dvcmtPcmRlclNlbGVjdFNpbmdsZScsCiAgICBjb21wb25lbnRzOiB7fSwKICAgIGRpY3RzOiBbJ21lc19vcmRlcl9zdGF0dXMnLCdtZXNfd29ya29yZGVyX3NvdXJjZXR5cGUnXSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2hvd0ZsYWc6IGZhbHNlLAogICAgICAgICAgICAvLyDpga7nvanlsYIKICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgICAgICAgIHNlbGVjdGVkV29ya29yZGVySWQ6IHVuZGVmaW5lZCwKICAgICAgICAgICAgc2VsZWN0ZWRSb3dzOiBbXSwKICAgICAgICAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICAgICAgICBzaW5nbGU6IHRydWUsCiAgICAgICAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgICAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgICAgICAgIC8vIOaAu+adoeaVsAogICAgICAgICAgICB0b3RhbDogMCwKICAgICAgICAgICAgIC8vIOeUn+S6p+W3peWNleihqOagvOaVsOaNrgogICAgICAgICAgICB3b3Jrb3JkZXJMaXN0OiBbXSwKICAgICAgICAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICAgICAgICBvcGVuOiBmYWxzZSwKICAgICAgICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgICAgICAgICB3b3Jrb3JkZXJDb2RlOiBudWxsLAogICAgICAgICAgICAgICAgd29ya29yZGVyTmFtZTogbnVsbCwKICAgICAgICAgICAgICAgIG9yZGVyU291cmNlOiBudWxsLAogICAgICAgICAgICAgICAgc291cmNlQ29kZTogbnVsbCwKICAgICAgICAgICAgICAgIHByb2R1Y3RJZDogbnVsbCwKICAgICAgICAgICAgICAgIHByb2R1Y3RDb2RlOiBudWxsLAogICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IG51bGwsCiAgICAgICAgICAgICAgICBwcm9kdWN0U3BjOiBudWxsLAogICAgICAgICAgICAgICAgdW5pdE9mTWVhc3VyZTogbnVsbCwKICAgICAgICAgICAgICAgIHF1YW50aXR5OiBudWxsLAogICAgICAgICAgICAgICAgcXVhbnRpdHlQcm9kdWNlZDogbnVsbCwKICAgICAgICAgICAgICAgIHF1YW50aXR5Q2hhbmdlZDogbnVsbCwKICAgICAgICAgICAgICAgIHF1YW50aXR5U2NoZWR1bGVkOiBudWxsLAogICAgICAgICAgICAgICAgY2xpZW50SWQ6IG51bGwsCiAgICAgICAgICAgICAgICBjbGllbnRDb2RlOiBudWxsLAogICAgICAgICAgICAgICAgY2xpZW50TmFtZTogbnVsbCwKICAgICAgICAgICAgICAgIHJlcXVlc3REYXRlOiBudWxsLAogICAgICAgICAgICAgICAgcGFyZW50SWQ6IG51bGwsCiAgICAgICAgICAgICAgICBhbmNlc3RvcnM6IG51bGwsCiAgICAgICAgICAgICAgICBzdGF0dXM6ICdDT05GSVJNRUQnLAogICAgICAgICAgICB9LAoKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICAvKiog5p+l6K+i55Sf5Lqn5bel5Y2V5YiX6KGoICovCiAgICAgICAgZ2V0TGlzdCgpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgbGlzdFdvcmtvcmRlcih0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMud29ya29yZGVyTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICAgICAgaGFuZGxlUXVlcnkoKSB7CiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0sCiAgICAgICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgICAgIHJlc2V0UXVlcnkoKSB7CiAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsKICAgICAgICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlQ3VycmVudChyb3cpewogICAgICAgICAgICBpZihyb3cpewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSByb3c7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOWNlemAiemAieS4reaVsOaNrgogICAgICAgIGhhbmRsZVJvd0NoYW5nZShyb3cpIHsKICAgICAgICAgICAgaWYocm93KXsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzID0gcm93OwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+WPjOWHu+mAieS4rQogICAgICAgIGhhbmRsZVJvd0RiQ2xpY2socm93KXsKICAgICAgICAgICAgaWYocm93KXsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzID0gcm93OwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25TZWxlY3RlZCcsdGhpcy5zZWxlY3RlZFJvd3MpOwogICAgICAgICAgICAgICAgdGhpcy5zaG93RmxhZyA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+ehruWumumAieS4rQogICAgICAgIGNvbmZpcm1TZWxlY3QoKXsKICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZFdvcmtvcmRlcklkID09IG51bGwgfHwgdGhpcy5zZWxlY3RlZFdvcmtvcmRlcklkID09IDApewogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTon5o+Q56S6JywKICAgICAgICAgICAgICAgICAgICB0eXBlOid3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+36Iez5bCR6YCJ5oup5LiA5p2h5pWw5o2uIScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uU2VsZWN0ZWQnLHRoaXMuc2VsZWN0ZWRSb3dzKTsKICAgICAgICAgICAgdGhpcy5zaG93RmxhZyA9IGZhbHNlOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["single.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"single.vue","sourceRoot":"src/components/workorderSelect","sourcesContent":["<template>\n    <el-dialog title=\"工作站选择\"\n    v-if=\"showFlag\"\n    :visible.sync=\"showFlag\"\n    :modal= false\n    width=\"80%\"\n    center\n  >\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item label=\"工单编码\" prop=\"workorderCode\">\n        <el-input\n          v-model=\"queryParams.workorderCode\"\n          placeholder=\"请输入工单编码\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"工单名称\" prop=\"workorderName\">\n        <el-input\n          v-model=\"queryParams.workorderName\"\n          placeholder=\"请输入工单名称\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"产品编号\" prop=\"productCode\">\n        <el-input\n          v-model=\"queryParams.productCode\"\n          placeholder=\"请输入产品编号\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"产品名称\" prop=\"productName\">\n        <el-input\n          v-model=\"queryParams.productName\"\n          placeholder=\"请输入产品名称\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n\n\n      <el-form-item label=\"客户名称\" prop=\"clientName\">\n        <el-input\n          v-model=\"queryParams.clientName\"\n          placeholder=\"请输入客户名称\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      \n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table v-loading=\"loading\" :data=\"workorderList\" @current-change=\"handleCurrent\" @row-dblclick=\"handleRowDbClick\">\n        <el-table-column width=\"55\" align=\"center\" >\n            <template v-slot=\"scope\">\n                <el-radio v-model=\"selectedWorkorderId\" :label=\"scope.row.workorderId\" @change=\"handleRowChange(scope.row)\">{{\"\"}}</el-radio>\n            </template>\n        </el-table-column>\n        <el-table-column label=\"工单编码\" width=\"180\" prop=\"workorderCode\" >\n        </el-table-column>\n        <el-table-column label=\"工单名称\" width=\"200\" align=\"center\" prop=\"workorderName\" :show-overflow-tooltip=\"true\"/>\n        <el-table-column label=\"工单来源\" align=\"center\" prop=\"orderSource\" >\n            <template slot-scope=\"scope\">\n                <dict-tag :options=\"dict.type.mes_workorder_sourcetype\" :value=\"scope.row.orderSource\"/>\n            </template>\n        </el-table-column>\n        <el-table-column label=\"订单编号\" width=\"140\" align=\"center\" prop=\"sourceCode\" />\n        <el-table-column label=\"产品编号\" width=\"120\" align=\"center\" prop=\"productCode\" />\n        <el-table-column label=\"产品名称\" width=\"200\" align=\"center\" prop=\"productName\" :show-overflow-tooltip=\"true\"/>\n        <el-table-column label=\"规格型号\" align=\"center\" prop=\"productSpc\" :show-overflow-tooltip=\"true\"/>\n        <el-table-column label=\"单位\" align=\"center\" prop=\"unitOfMeasure\" />\n        <el-table-column label=\"工单数量\" align=\"center\" prop=\"quantity\" />                 \n        <el-table-column label=\"客户编码\" align=\"center\" prop=\"clientCode\" />\n        <el-table-column label=\"客户名称\" align=\"center\" prop=\"clientName\" :show-overflow-tooltip=\"true\"/>\n        <el-table-column label=\"需求日期\" align=\"center\" prop=\"requestDate\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span>{{ parseTime(scope.row.requestDate, '{y}-{m}-{d}') }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n    <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"confirmSelect\">确 定</el-button>\n        <el-button @click=\"showFlag=false\">取 消</el-button>\n    </div>\n  </el-dialog>\n\n</template>\n<script>\n    import { listWorkorder} from \"@/api/mes/pro/workorder\";\n    export default {\n        name: 'WorkOrderSelectSingle',\n        components: {},\n        dicts: ['mes_order_status','mes_workorder_sourcetype'],\n        data() {\n            return {\n                showFlag: false,\n                // 遮罩层\n                loading: true,\n                // 选中数组\n                selectedWorkorderId: undefined,\n                selectedRows: [],\n                 // 非单个禁用\n                single: true,\n                // 非多个禁用\n                multiple: true,\n                // 显示搜索条件\n                showSearch: true,\n                // 总条数\n                total: 0,\n                 // 生产工单表格数据\n                workorderList: [],\n                 // 弹出层标题\n                title: \"\",\n                // 是否显示弹出层\n                open: false,\n                // 查询参数\n                queryParams: {\n                    workorderCode: null,\n                    workorderName: null,\n                    orderSource: null,\n                    sourceCode: null,\n                    productId: null,\n                    productCode: null,\n                    productName: null,\n                    productSpc: null,\n                    unitOfMeasure: null,\n                    quantity: null,\n                    quantityProduced: null,\n                    quantityChanged: null,\n                    quantityScheduled: null,\n                    clientId: null,\n                    clientCode: null,\n                    clientName: null,\n                    requestDate: null,\n                    parentId: null,\n                    ancestors: null,\n                    status: 'CONFIRMED',\n                },\n\n            }\n        },\n        created() {\n            this.getList();\n        },\n        methods:{\n            /** 查询生产工单列表 */\n            getList() {\n                this.loading = true;\n                listWorkorder(this.queryParams).then(response => {\n                    this.workorderList = response.data;\n                    this.loading = false;\n                });\n            },\n            /** 搜索按钮操作 */\n            handleQuery() {\n                this.getList();\n            },\n            /** 重置按钮操作 */\n            resetQuery() {\n                this.resetForm(\"queryForm\");\n                this.handleQuery();\n            },\n            handleCurrent(row){\n                if(row){\n                    this.selectedRows = row;\n                }\n            },\n            // 单选选中数据\n            handleRowChange(row) {\n                if(row){\n                    this.selectedRows = row;\n                }\n            },\n            //双击选中\n            handleRowDbClick(row){\n                if(row){\n                    this.selectedRows = row;\n                    this.$emit('onSelected',this.selectedRows);\n                    this.showFlag = false;\n                }\n            },\n            //确定选中\n            confirmSelect(){\n                if(this.selectedWorkorderId == null || this.selectedWorkorderId == 0){\n                    this.$notify({\n                        title:'提示',\n                        type:'warning',\n                        message: '请至少选择一条数据!'\n                    });\n                    return;\n                }\n                this.$emit('onSelected',this.selectedRows);\n                this.showFlag = false;\n            }\n        }\n    }\n</script>"]}]}