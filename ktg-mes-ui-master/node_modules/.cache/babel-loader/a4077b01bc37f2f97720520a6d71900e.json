{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\pro\\schedule\\ganttx.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\pro\\schedule\\ganttx.vue","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\babel.config.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCmltcG9ydCB7IGdhbnR0IH0gZnJvbSAnZGh0bWx4LWdhbnR0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdHYW50dENoYXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdPYmo6IHt9CiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHRhc2tzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRhdGE6IFtdLAogICAgICAgICAgbGlua3M6IFtdCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIG9wdFR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ3ZpZXcnOwogICAgICB9CiAgICB9LAogICAgaWRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8g5Yid5aeL5YyW55SY54m55Zu+6YWN572uCiAgICB0aGlzLmluaXRDb25maWcoKTsKICAgIGdhbnR0LnBsdWdpbnMoewogICAgICBtYXJrZXI6IHRydWUKICAgIH0pOyAvLyDnlJjnibnlm77liJ3lp4vljJblkozlr7zlhaXmlbDmja4KCiAgICBnYW50dC5pbml0KHRoaXMuJHJlZnMuZ2FudHQpOwogICAgZ2FudHQucGFyc2UodGhpcy50YXNrcyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliJ3lp4vljJbnlJjnibnlm77mlbDmja4KICAgIGluaXREYXRhOiBmdW5jdGlvbiBpbml0RGF0YSgpIHt9LAogICAgcmVsb2FkOiBmdW5jdGlvbiByZWxvYWQoKSB7CiAgICAgIGdhbnR0LmNsZWFyQWxsKCk7CiAgICAgIHRoaXMuYWRkVG9kYXlMaW5lKCk7CiAgICAgIGdhbnR0LnBhcnNlKHRoaXMuJHByb3BzLnRhc2tzKTsKICAgICAgZ2FudHQucmVuZGVyKCk7CiAgICB9LAogICAgYWRkVG9kYXlMaW5lOiBmdW5jdGlvbiBhZGRUb2RheUxpbmUoKSB7CiAgICAgIC8vIOaXtumXtOe6vwogICAgICB2YXIgZGF0ZV90b19zdHIgPSBnYW50dC5kYXRlLmRhdGVfdG9fc3RyKGdhbnR0LmNvbmZpZy50YXNrX2RhdGUpOwogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICBnYW50dC5hZGRNYXJrZXIoewogICAgICAgIHN0YXJ0X2RhdGU6IHRvZGF5LAogICAgICAgIGNzczogInRvZGF5IiwKICAgICAgICB0ZXh0OiAi5LuK5aSpIiwKICAgICAgICB0aXRsZTogIuS7iuWkqTogIiArIGRhdGVfdG9fc3RyKHRvZGF5KQogICAgICB9KTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJbnlJjnibnlm77phY3nva4KICAgIGluaXRDb25maWc6IGZ1bmN0aW9uIGluaXRDb25maWcoKSB7CiAgICAgIC8vIDEg5Z+656GA6YWN572uCiAgICAgIC8vIDEuMSDnlJjnibnlm77mmK/lkKblj6ror7sKICAgICAgaWYgKHRoaXMub3B0VHlwZSA9PSAndmlldycpIHsKICAgICAgICBnYW50dC5jb25maWcucmVhZG9ubHkgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIGdhbnR0LmNvbmZpZy5yZWFkb25seSA9IGZhbHNlOwogICAgICB9IC8vIDEuMiDooajmoLzliJforr7nva4KCgogICAgICBnYW50dC5jb25maWcuZHVyYXRpb25fdW5pdCA9ICJob3VyIjsKICAgICAgZ2FudHQuY29uZmlnLmR1cmF0aW9uX3N0ZXAgPSA4OwogICAgICBnYW50dC5jb25maWcuZ3JpZF93aWR0aCA9IDUyMDsKICAgICAgZ2FudHQuY29uZmlnLmNvbHVtbnMgPSBbewogICAgICAgIG5hbWU6ICJ0ZXh0IiwKICAgICAgICBsYWJlbDogIuS7u+WKoeWQjSIsCiAgICAgICAgdHJlZTogdHJ1ZSwKICAgICAgICB3aWR0aDogJzIwMCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgbGFiZWw6ICLlt6XkvZznq5kiLAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICB3aWR0aDogJyonCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAicHJvY2VzcyIsCiAgICAgICAgbGFiZWw6ICLlt6Xluo8iLAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICB3aWR0aDogJyonCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAic3RhcnRfZGF0ZSIsCiAgICAgICAgbGFiZWw6ICLlvIDlp4vml7bpl7QiLAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICB3aWR0aDogJyonCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAiZW5kX2RhdGUiLAogICAgICAgIGxhYmVsOiAi57uT5p2f5pe26Ze0IiwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgd2lkdGg6ICcqJwogICAgICB9XTsgLy8gMS4zIOiuvue9ruS4reaWhwoKICAgICAgZ2FudHQuaTE4bi5zZXRMb2NhbGUoImNuIik7IC8vIDEuNCDpvKDmoIfmgqzmta7moYYKCiAgICAgIGdhbnR0LnBsdWdpbnMoewogICAgICAgIHRvb2x0aXA6IHRydWUKICAgICAgfSk7IC8vIOWQr+eUqHRvb2x0aXDmgqzmta7moYYKCiAgICAgIGdhbnR0LnRlbXBsYXRlcy50b29sdGlwX3RleHQgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdGFzaykgewogICAgICAgIGlmICh0YXNrLnR5cGUgPT0gJ3Byb2plY3QnKSB7CiAgICAgICAgICByZXR1cm4gIjxiIHN0eWxlPSd0ZXh0LWFsaWduOmxlZnQ7Jz7nlJ/kuqflt6XljZU6PC9iPiAiICsgdGFzay50ZXh0ICsgIiAgICA8c3BhbiBzdHlsZT0ndGV4dC1hbGlnbjpsZWZ0Oyc+IiArICIg5a6M5oiQ5q+U5L6L77yaIiArIE1hdGgucm91bmQodGFzay5wcm9ncmVzcyAqIDEwMCkgKyAiJSA8L3NwYW4+IjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuICI8YiBzdHlsZT0ndGV4dC1hbGlnbjpsZWZ0Oyc+55Sf5Lqn5Lu75YqhOjwvYj4gIiArIHRhc2sucHJvY2VzcyArICIgIiArIHRhc2sudGV4dCArICIgICAgPHNwYW4gc3R5bGU9J3RleHQtYWxpZ246bGVmdDsnPiIgKyAiIOWujOaIkOavlOS+i++8miIgKyBNYXRoLnJvdW5kKHRhc2sucHJvZ3Jlc3MgKiAxMDApICsgIiUgPC9zcGFuPiI7CiAgICAgICAgfQogICAgICB9OyAvLyAxLjUg5Yid5aeL5YyW55qE5pe25YCZ5bCx5bGV5byA5qCR57uT5p6ECgoKICAgICAgZ2FudHQuY29uZmlnLm9wZW5fdHJlZV9pbml0aWFsbHkgPSB0cnVlOyAvLyAxLjYg5pi+56S65Yiw5Lu75Yqh5LiK55qE5paH5pysCgogICAgICBnYW50dC50ZW1wbGF0ZXMudGFza190ZXh0ID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHRhc2spIHsKICAgICAgICBpZiAodGFzay50eXBlID09ICdwcm9qZWN0JykgewogICAgICAgICAgcmV0dXJuICI8YiBzdHlsZT0ndGV4dC1hbGlnbjpsZWZ0Oyc+55Sf5Lqn5bel5Y2VOjwvYj4gIiArIHRhc2sudGV4dCArICIgICAgPHNwYW4gc3R5bGU9J3RleHQtYWxpZ246bGVmdDsnPiIgKyAiIOWujOaIkOavlOS+i++8miIgKyBNYXRoLnJvdW5kKHRhc2sucHJvZ3Jlc3MgKiAxMDApICsgIiUgPC9zcGFuPiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAiPGIgc3R5bGU9J3RleHQtYWxpZ246bGVmdDsnPueUn+S6p+S7u+WKoTo8L2I+ICIgKyB0YXNrLnByb2Nlc3MgKyAiICIgKyB0YXNrLnRleHQgKyAiICAgIDxzcGFuIHN0eWxlPSd0ZXh0LWFsaWduOmxlZnQ7Jz4iICsgIiDlrozmiJDmr5TkvovvvJoiICsgTWF0aC5yb3VuZCh0YXNrLnByb2dyZXNzICogMTAwKSArICIlIDwvc3Bhbj4iOwogICAgICAgIH0KICAgICAgfTsgLy8gMS43IOaYvuekuuWNleWFg+agvAoKCiAgICAgIGdhbnR0LmNvbmZpZy5zaG93X3Rhc2tfY2VsbHMgPSB0cnVlOyAvLyAyIOaXtumXtOmFjee9rgogICAgICAvLyAyLjEg5pe26Ze05Z2Q5qCH6L205Y2V5L2NIG1pbnV0ZS9ob3VyL2RheS93ZWVrL3F1YXJ0ZXIvbW9udGgveWVhcgogICAgICAvLyBnYW50dC5jb25maWcuc2NhbGVfdW5pdCA9ICJob3VyIjsKICAgICAgLy8gMi4yIOaXpeacn+agvOW8jwogICAgICAvLyBnYW50dC5jb25maWcuZGF0ZV9zY2FsZSA9ICIlSCI7CiAgICAgIC8vIDIuMyDml7bpl7TlnZDmoIfkuLrmnIjku73nmoTml7blgJkgIOWFiOaYvuekuuW5tOS7veWGjeaciOS7vQogICAgICAvLyBnYW50dC5jb25maWcuc3Vic2NhbGVzID0gW3t1bml0OiAibW9udGgiLCBzdGVwOiAxLCBkYXRlOiAiJVksJUYifV07CgogICAgICB2YXIgd2Vla1NjYWxlVGVtcGxhdGUgPSBmdW5jdGlvbiB3ZWVrU2NhbGVUZW1wbGF0ZShkYXRlKSB7CiAgICAgICAgdmFyIGRhdGVUb1N0ciA9IGdhbnR0LmRhdGUuZGF0ZV90b19zdHIoIiVNICVkIik7CiAgICAgICAgdmFyIGVuZERhdGUgPSBnYW50dC5kYXRlLmFkZChnYW50dC5kYXRlLmFkZChkYXRlLCAxLCAid2VlayIpLCAtMSwgImRheSIpOwogICAgICAgIHJldHVybiBkYXRlVG9TdHIoZGF0ZSkgKyAiIC0gIiArIGRhdGVUb1N0cihlbmREYXRlKTsKICAgICAgfTsKCiAgICAgIHZhciBkYXlUZW1wbGF0ZSA9IGZ1bmN0aW9uIGRheVRlbXBsYXRlKGRhdGUpIHsKICAgICAgICB2YXIgZGF0ZVRvU3RyID0gZ2FudHQuZGF0ZS5kYXRlX3RvX3N0cigiJU0gJWQiKTsKICAgICAgICB2YXIgd2Vla0RheSA9IGdhbnR0LmRhdGUuZGF0ZV90b19zdHIoIiVEIik7CiAgICAgICAgcmV0dXJuIGRhdGVUb1N0cihkYXRlKTsKICAgICAgICArIigiICsgd2Vla0RheShkYXRlKSArICIpIjsKICAgICAgfTsKCiAgICAgIHZhciBkYXlzU3R5bGUgPSBmdW5jdGlvbiBkYXlzU3R5bGUoZGF0ZSkgewogICAgICAgIC8vIHlvdSBjYW4gdXNlIGdhbnR0LmlzV29ya1RpbWUoZGF0ZSkKICAgICAgICAvLyB3aGVuIGdhbnR0LmNvbmZpZy53b3JrX3RpbWUgY29uZmlnIGlzIGVuYWJsZWQKICAgICAgICAvLyBJbiB0aGlzIHNhbXBsZSBpdCdzIG5vdCBzbyB3ZSBqdXN0IGNoZWNrIHdlZWsgZGF5cwogICAgICAgIGlmIChkYXRlLmdldERheSgpID09PSAwIHx8IGRhdGUuZ2V0RGF5KCkgPT09IDYpIHsKICAgICAgICAgIHJldHVybiAid2Vla2VuZCI7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH07CgogICAgICBnYW50dC5jb25maWcuc2NhbGVzID0gW3sKICAgICAgICB1bml0OiAid2VlayIsCiAgICAgICAgc3RlcDogMSwKICAgICAgICBmb3JtYXQ6IHdlZWtTY2FsZVRlbXBsYXRlCiAgICAgIH0sIHsKICAgICAgICB1bml0OiAiZGF5IiwKICAgICAgICBzdGVwOiAxLAogICAgICAgIGZvcm1hdDogZGF5VGVtcGxhdGUsCiAgICAgICAgY3NzOiBkYXlzU3R5bGUKICAgICAgfSwgewogICAgICAgIHVuaXQ6ICJob3VyIiwKICAgICAgICBzdGVwOiA4LAogICAgICAgIGZvcm1hdDogIiVIOiVpIgogICAgICB9IC8v6L+Z6YeM55qEc3RlcOimgeagueaNruW9k+WJjeeahOePreasoeiuvue9ruadpeOAguWmguaenOaYr+S4ieePreWAkuWImeaYrzjvvIzlpoLmnpzmmK/kuKTnj63lgJLliJnmmK8xMuOAggogICAgICBdOwogICAgICBnYW50dC5jb25maWcuc2NhbGVfaGVpZ2h0ID0gNTA7IC8vIDIuNCDlrprkuYnku47lkI7nq6/ojrflj5bmiJblj5HpgIHliLDlkI7nq6/nmoTml6XmnJ/mlbDmja7op6PmnpDmoLzlvI8KCiAgICAgIGdhbnR0LmNvbmZpZy54bWxfZGF0ZSA9ICIlWS0lbS0lZCAlSDolaTolcyI7IC8vIDMg5ouW5Yqo6YWN572uCiAgICAgIC8vIDMuMSDoh6rliqjosIPmlbTnsbvlnoss5b2T5a2Y5Zyo5a2Q6IqC54K55pe26Ieq5Yqo5Y2H57qn5Li6cHJvamVjdAoKICAgICAgZ2FudHQuY29uZmlnLmF1dG9fdHlwZXMgPSBmYWxzZTsgLy8gMy4yIOiuvue9ruS4jeWPr+S7peaLluWKqOi/m+W6pgoKICAgICAgZ2FudHQuY29uZmlnLmRyYWdfcHJvZ3Jlc3MgPSB0cnVlOyAvLyAzLjMg6K6+572uVGFza+S4jeWPr+S7peaLluWKqAoKICAgICAgZ2FudHQuY29uZmlnLmRyYWdfbW92ZSA9IHRydWU7IC8vIDMuNCDorr7nva7kuI3lj6/ku6Xmi5bliqjlhbPns7sKCiAgICAgIGdhbnR0LmNvbmZpZy5kcmFnX2xpbmtzID0gdHJ1ZTsgLy8gMy41IOiuvue9ruS4jeWPr+aLluWKqFRhc2sg5aSn5bCPCgogICAgICBnYW50dC5jb25maWcuZHJhZ19yZXNpemUgPSB0cnVlOyAvLyAzLjYg5Y2V5Ye75pi+56S65re75Yqg6K+m5oOFCgogICAgICBnYW50dC5jb25maWcuZGV0YWlsc19vbl9jcmVhdGUgPSB0cnVlOyAvLyAzLjcg5Y+M5Ye75pi+56S65piO57uGCgogICAgICBnYW50dC5jb25maWcuZGV0YWlsc19vbl9kYmxjbGljayA9IHRydWU7CiAgICAgIHZhciB0ID0gdGhpcy4kcHJvcHMudGFza3M7CiAgICAgIHZhciBjID0gdGhpcy4kcHJvcHMuaWRzOwogICAgICBnYW50dC5hdHRhY2hFdmVudCgib25BZnRlclRhc2tVcGRhdGUiLCBmdW5jdGlvbiAoaWQsIG9iaikgewogICAgICAgIGRlYnVnZ2VyOwogICAgICAgIHZhciB0dCA9IHQuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlkID09IGlkOwogICAgICAgIH0pOwogICAgICAgIHR0ID0gb2JqOwogICAgICAgIGMucHVzaChpZCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;AAKA;AACA;EACAA,iBADA;EAEAC,IAFA,kBAEA;IACA;MACAC;IADA;EAGA,CANA;EAOAC;IACAC;MACAC,YADA;MAEAC,OAFA,sBAEA;QACA;UAAAL;UAAAM;QAAA;MACA;IAJA,CADA;IAOAC;MACAH,YADA;MAEAC,OAFA,sBAEA;QACA;MACA;IAJA,CAPA;IAaAG;MACAJ,WADA;MAEAC,OAFA,sBAEA;QACA;MACA;IAJA;EAbA,CAPA;EA4BAI,OA5BA,qBA4BA,CACA,CA7BA;EA+BAC;IACA;IACA;IACAC;MACAC;IADA,GAHA,CAMA;;IACAD;IACAA;EACA,CAxCA;EA0CAE;IACA;IACAC,QAFA,sBAEA,CAEA,CAJA;IAKAC,MALA,oBAKA;MACAJ;MACA;MACAA;MACAA;IACA,CAVA;IAWAK,YAXA,0BAWA;MACA;MACA;MACA;MACAL;QACAM,iBADA;QAEAC,YAFA;QAGAC,UAHA;QAIAC;MAJA;IAMA,CArBA;IAsBA;IACAC,UAvBA,wBAuBA;MACA;MACA;MACA;QACAV;MACA,CAFA,MAEA;QACAA;MACA,CAPA,CASA;;;MACAA;MACAA;MACAA;MACAA,wBACA;QAAAZ;QAAAuB;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAzB;QAAAuB;QAAAG;QAAAD;MAAA,CAFA,EAGA;QAAAzB;QAAAuB;QAAAG;QAAAD;MAAA,CAHA,EAIA;QAAAzB;QAAAuB;QAAAG;QAAAD;MAAA,CAJA,EAKA;QAAAzB;QAAAuB;QAAAG;QAAAD;MAAA,CALA,EAbA,CAoBA;;MACAb,2BArBA,CAsBA;;MACAA;QAAAe;MAAA,GAvBA,CAuBA;;MACAf;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA,CANA,CAxBA,CAiCA;;;MACAA,wCAlCA,CAmCA;;MACAA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MAEA,CAPA,CApCA,CA4CA;;;MACAA,oCA7CA,CA+CA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;QACA;QACA;QACA;MACA,CAJA;;MAMA;QACA;QACA;QACA;QAAA;MACA,CAJA;;MAMA;QACA;QACA;QACA;QAEA;UACA;QACA;;QACA;MACA,CATA;;MAWAA,uBACA;QAAAgB;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAF;QAAAC;QAAAC;QAAAX;MAAA,CAFA,EAGA;QAAAS;QAAAC;QAAAC;MAAA,CAHA,CAGA;MAHA;MAMAlB,+BApFA,CAsFA;;MACAA,4CAvFA,CAyFA;MACA;;MACAA,gCA3FA,CA4FA;;MACAA,kCA7FA,CA8FA;;MACAA,8BA/FA,CAgGA;;MACAA,+BAjGA,CAkGA;;MACAA,gCAnGA,CAoGA;;MACAA,sCArGA,CAsGA;;MACAA;MAEA;MACA;MACAA;QACA;QACA;UAAA;QAAA;QACAmB;QACAC;MACA,CALA;IAQA;EA1IA;AA1CA","names":["name","data","newObj","props","tasks","type","default","links","optType","ids","created","mounted","gantt","marker","methods","initData","reload","addTodayLine","start_date","css","text","title","initConfig","label","tree","width","align","tooltip","unit","step","format","tt","c"],"sourceRoot":"src/views/mes/pro/schedule","sources":["ganttx.vue"],"sourcesContent":["<template>\n  <div ref=\"gantt\"></div>\n</template>\n\n<script>\nimport { gantt } from 'dhtmlx-gantt';\nexport default {\n  name: 'GanttChar',\n  data() {\n    return {\n      newObj: {}\n    }\n  },\n  props: {\n    tasks: {\n      type: Object,\n      default () {\n        return {data: [], links: []}\n      }\n    },\n    optType: {\n      type: String,\n      default (){\n        return 'view'\n      }\n    },\n    ids: {\n      type: Array,\n      default (){\n        return []\n      }\n    }\n  },\n\n  created() {\n  },\n\n  mounted: function () {\n    // 初始化甘特图配置\n    this.initConfig();\n    gantt.plugins({\n      marker: true\n    });\n    // 甘特图初始化和导入数据\n    gantt.init(this.$refs.gantt);\n    gantt.parse(this.tasks);\n  },\n\n  methods: {\n    // 初始化甘特图数据\n    initData() {\n\n    },\n    reload() {\n      gantt.clearAll();\n      this.addTodayLine();\n      gantt.parse(this.$props.tasks);\n      gantt.render();\n    },\n    addTodayLine() {\n      // 时间线\n      var date_to_str = gantt.date.date_to_str(gantt.config.task_date);\n      var today = new Date();\n      gantt.addMarker({\n        start_date: today,\n        css: \"today\",\n        text: \"今天\",\n        title: \"今天: \" + date_to_str(today)\n      });\n    },\n    // 初始化甘特图配置\n    initConfig() {\n      // 1 基础配置\n      // 1.1 甘特图是否只读\n      if(this.optType =='view'){\n        gantt.config.readonly = true;\n      }else{\n        gantt.config.readonly = false;\n      }\n      \n      // 1.2 表格列设置\n      gantt.config.duration_unit=\"hour\";\n      gantt.config.duration_step=8;\n      gantt.config.grid_width=520;\n      gantt.config.columns = [\n        {name:\"text\", label:\"任务名\", tree:true, width:'200' },\n        {name:\"workstation\",label:\"工作站\",align:\"center\",width:'*'},\n        {name:\"process\",label:\"工序\",align:\"center\",width:'*'},        \n        {name:\"start_date\", label:\"开始时间\", align:\"center\", width:'*' },\n        {name:\"end_date\", label:\"结束时间\", align:\"center\" , width:'*'},\n      ];\n      // 1.3 设置中文\n      gantt.i18n.setLocale(\"cn\");\n      // 1.4 鼠标悬浮框\n      gantt.plugins({tooltip: true});// 启用tooltip悬浮框\n      gantt.templates.tooltip_text = function(start, end, task) {\n        if(task.type=='project'){\n          return \"<b style='text-align:left;'>生产工单:</b> \" + task.text +\"    <span style='text-align:left;'>\" +\" 完成比例：\"+ Math.round(task.progress * 100) + \"% </span>\";\n        }else{\n          return \"<b style='text-align:left;'>生产任务:</b> \"+task.process+\" \"+ task.text +\"    <span style='text-align:left;'>\" +\" 完成比例：\"+ Math.round(task.progress * 100) + \"% </span>\";\n        }\n      };\n\n\n      // 1.5 初始化的时候就展开树结构\n      gantt.config.open_tree_initially = true;\n      // 1.6 显示到任务上的文本\n      gantt.templates.task_text = function (start, end, task) {\n        if(task.type=='project'){\n          return \"<b style='text-align:left;'>生产工单:</b> \" + task.text +\"    <span style='text-align:left;'>\" +\" 完成比例：\"+ Math.round(task.progress * 100) + \"% </span>\";\n        }else{\n          return \"<b style='text-align:left;'>生产任务:</b> \"+task.process+\" \"+ task.text +\"    <span style='text-align:left;'>\" +\" 完成比例：\"+ Math.round(task.progress * 100) + \"% </span>\";\n        }\n        \n      };\n      // 1.7 显示单元格\n      gantt.config.show_task_cells = true;\n\n      // 2 时间配置\n      // 2.1 时间坐标轴单位 minute/hour/day/week/quarter/month/year\n     // gantt.config.scale_unit = \"hour\";\n      // 2.2 日期格式\n     // gantt.config.date_scale = \"%H\";\n      // 2.3 时间坐标为月份的时候  先显示年份再月份\n     // gantt.config.subscales = [{unit: \"month\", step: 1, date: \"%Y,%F\"}];\n      \n      var weekScaleTemplate = function (date) {\n        var dateToStr = gantt.date.date_to_str(\"%M %d\");\n        var endDate = gantt.date.add(gantt.date.add(date, 1, \"week\"), -1, \"day\");\n        return dateToStr(date) + \" - \" + dateToStr(endDate);\n      };\n\n      var dayTemplate = function(date){\n        var dateToStr = gantt.date.date_to_str(\"%M %d\");\n        var weekDay = gantt.date.date_to_str(\"%D\");\n        return dateToStr(date); + \"(\" + weekDay(date) + \")\";\n      };\n\n      var daysStyle = function(date){\n          // you can use gantt.isWorkTime(date)\n          // when gantt.config.work_time config is enabled\n          // In this sample it's not so we just check week days\n\n          if(date.getDay() === 0 || date.getDay() === 6){\n            return \"weekend\";\n          }\n          return \"\";\n        };\n\n      gantt.config.scales =[\n        {unit:\"week\", step:1,format: weekScaleTemplate},\n        {unit:\"day\", step:1,format: dayTemplate,css: daysStyle},\n        {unit:\"hour\", step:8,format: \"%H:%i\"}, //这里的step要根据当前的班次设置来。如果是三班倒则是8，如果是两班倒则是12。\n      ]\n      \n      gantt.config.scale_height = 50;\n\n      // 2.4 定义从后端获取或发送到后端的日期数据解析格式\n      gantt.config.xml_date = \"%Y-%m-%d %H:%i:%s\";\n\n      // 3 拖动配置\n      // 3.1 自动调整类型,当存在子节点时自动升级为project\n      gantt.config.auto_types = false;\n      // 3.2 设置不可以拖动进度\n      gantt.config.drag_progress = true;\n      // 3.3 设置Task不可以拖动\n      gantt.config.drag_move = true;\n      // 3.4 设置不可以拖动关系\n      gantt.config.drag_links = true;\n      // 3.5 设置不可拖动Task 大小\n      gantt.config.drag_resize = true;\n      // 3.6 单击显示添加详情\n      gantt.config.details_on_create = true;\n      // 3.7 双击显示明细\n      gantt.config.details_on_dblclick = true;\n\n      let t = this.$props.tasks;\n      let c = this.$props.ids;\n      gantt.attachEvent(\"onAfterTaskUpdate\",function(id,obj){\n        debugger;\n        let tt = t.data.filter( item=> item.id == id);\n        tt=obj;  \n        c.push(id);              \n      });\n\n\n    }\n  }\n}\n</script>\n\n<style>\n  @import \"~dhtmlx-gantt/codebase/dhtmlxgantt.css\";\n  /* 任务名前的logo */\n  .gantt_tree_icon.gantt_file, .gantt_tree_icon.gantt_folder_open, .gantt_tree_icon.gantt_folder_closed{width: 10px; background-image: none;}\n  /* 任务线 */\n  .gantt_task_line{\n    height: 16px !important;\n    line-height: 16px !important;\n    margin-top: 8px;\n    border: none !important;\n    border-radius: 8px;\n  }\n  .gantt_task_line.gantt_milestone{border-radius: 0;}\n  /* 里程碑 */\n  .gantt_task_line.gantt_milestone{\n    width: 12px !important;\n    height: 16px !important;\n    border: none !important;\n    background-color: inherit !important;\n    background-size: cover;\n  }\n  /* 里程碑icon */\n  .gantt_task_line.gantt_milestone .gantt_task_content{\n    width: 12px;\n    height: 16px;\n    margin-left: 40px;\n    transform: rotate(0deg) !important;\n    background-image: url('../../../../assets/logo/logo.png') !important;\n  }\n  /* 左侧悬浮单元格背景色 */\n  .gantt_grid_data .gantt_row.odd:hover, .gantt_grid_data .gantt_row:hover{background-color: #f3f1fe !important;}\n  /* 选中一行背景色 */\n  .gantt_grid_data .gantt_row.gantt_selected, .gantt_grid_data .gantt_row.odd.gantt_selected, .gantt_task_row.gantt_selected{background-color: #f3f1fe !important;}\n  /* 选中一行每个单元格右border颜色 */\n  .gantt_task_row.gantt_selected .gantt_task_cell{border-right-color: #f3f1fe !important;}\n\n  /* 标记线 */\n  .gantt_marker{background-color: #f4ae05;opacity: .8;}\n\n\n  /*滚动条整体样式*/\n  .gantt-wrapper ::-webkit-scrollbar {\n    width: 14px;  /*宽分别对应竖滚动条的尺寸*/\n    height: 6px;  /*高分别对应横滚动条的尺寸*/\n  }\n\n  /*滚动条里面轨道*/\n  .gantt-wrapper ::-webkit-scrollbar-track {\n    background-color: rgba(0,0,0,.2);\n    border-radius: 5px;\n  }\n  /*滚动条里面拖动条*/\n  .gantt-wrapper ::-webkit-scrollbar-thumb {\n    background-color: rgba(0,0,0,.3);\n    border-radius: 5px;\n  }\n  .gantt-wrapper ::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0,0,0,.5);\n    border-radius: 5px;\n  }\n\n  /* 展开收起背景图片 */\n  .gantt_tree_icon.gantt_close, .gantt_tree_icon.gantt_open{\n    background-image: none !important;\n    position: relative;\n  }\n  /* 收起小三角 */\n  .gantt_tree_icon.gantt_close::after{\n    position: absolute;\n    content: '';\n    top: 14px;\n    left: 10px;\n    border-right: 6px solid transparent;\n    border-left: 6px solid transparent;\n    border-top: 6px solid #999999;\n\n  }\n  /* 展开小三角 */\n  .gantt_tree_icon.gantt_open::after{\n    position: absolute;\n    content: '';\n    top: 12px;\n    left: 12px;\n    border-bottom: 6px solid transparent;\n    border-top: 6px solid transparent;\n    border-left: 6px solid #999999;\n  }\n  /* 下方滚动条宽度 */\n  .gantt_layout_cell .gantt_hor_scroll{\n    width: calc(100% - 199px) !important;\n    left: 199px;\n  }\n\n  .scaleStyle{\n    height: 20px;\n  }\n  /* 周末背景颜色 */\n  .weekend{\n    background: rgb(189, 185, 186) !important;\n    width: 30s\n  }  \n</style>"]}]}