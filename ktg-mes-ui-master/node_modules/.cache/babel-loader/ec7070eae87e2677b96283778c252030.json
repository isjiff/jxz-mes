{"remainingRequest":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\dv\\checkplan\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\src\\views\\mes\\dv\\checkplan\\index.vue","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\babel.config.js","mtime":1662109326000},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1662432871518},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662432868786},{"path":"D:\\resource\\eclipse-workspace\\ktg-mes-master\\ktg-mes-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1662432874590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9yZXNvdXJjZS9lY2xpcHNlLXdvcmtzcGFjZS9rdGctbWVzLW1hc3Rlci9rdGctbWVzLXVpLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6L3Jlc291cmNlL2VjbGlwc2Utd29ya3NwYWNlL2t0Zy1tZXMtbWFzdGVyL2t0Zy1tZXMtdWktbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7Cgp2YXIgX2NoZWNrcGxhbiA9IHJlcXVpcmUoIkAvYXBpL21lcy9kdi9jaGVja3BsYW4iKTsKCnZhciBfbWFjaGluZXJ5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL21hY2hpbmVyeS52dWUiKSk7Cgp2YXIgX3N1YmplY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vc3ViamVjdC52dWUiKSk7Cgp2YXIgX3J1bGUgPSByZXF1aXJlKCJAL2FwaS9zeXN0ZW0vYXV0b2NvZGUvcnVsZSIpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJDaGVja3BsYW4iLAogIGRpY3RzOiBbJ21lc19jeWNsZV90eXBlJywgJ21lc19vcmRlcl9zdGF0dXMnLCAnZHZfcGxhbl90eXBlJ10sCiAgY29tcG9uZW50czogewogICAgQ2hlY2ttYWNoaW5lcnk6IF9tYWNoaW5lcnkuZGVmYXVsdCwKICAgIENoZWNrc3ViamVjdDogX3N1YmplY3QuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGF1dG9HZW5GbGFnOiBmYWxzZSwKICAgICAgb3B0VHlwZTogbnVsbCwKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOiuvuWkh+eCueajgOiuoeWIkuWktOihqOagvOaVsOaNrgogICAgICBjaGVja3BsYW5MaXN0OiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBwbGFuQ29kZTogbnVsbCwKICAgICAgICBwbGFuTmFtZTogbnVsbCwKICAgICAgICBzdGFydERhdGU6IG51bGwsCiAgICAgICAgZW5kRGF0ZTogbnVsbCwKICAgICAgICBjeWNsZVR5cGU6IG51bGwsCiAgICAgICAgY3ljbGVDb3VudDogbnVsbCwKICAgICAgICBzdGF0dXM6IG51bGwKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBwbGFuQ29kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuiuoeWIkue8lueggeS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwbGFuTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuiuoeWIkuWQjeensOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwbGFuVHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuiuoeWIkuexu+Wei+S4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBjeWNsZVR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nngrnmo4DpopHnjociLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgY3ljbGVDb3VudDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeeCueajgOasoeaVsCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivouiuvuWkh+eCueajgOiuoeWIkuWktOWIl+ihqCAqLwogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICgwLCBfY2hlY2twbGFuLmxpc3RDaGVja3BsYW4pKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuY2hlY2twbGFuTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBwbGFuSWQ6IG51bGwsCiAgICAgICAgcGxhbkNvZGU6IG51bGwsCiAgICAgICAgcGxhbk5hbWU6IG51bGwsCiAgICAgICAgcGxhblR5cGU6IG51bGwsCiAgICAgICAgc3RhcnREYXRlOiBudWxsLAogICAgICAgIGVuZERhdGU6IG51bGwsCiAgICAgICAgY3ljbGVUeXBlOiBudWxsLAogICAgICAgIGN5Y2xlQ291bnQ6IG51bGwsCiAgICAgICAgc3RhdHVzOiAnUFJFUEFSRScsCiAgICAgICAgcmVtYXJrOiBudWxsLAogICAgICAgIGF0dHIxOiBudWxsLAogICAgICAgIGF0dHIyOiBudWxsLAogICAgICAgIGF0dHIzOiBudWxsLAogICAgICAgIGF0dHI0OiBudWxsLAogICAgICAgIGNyZWF0ZUJ5OiBudWxsLAogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgdXBkYXRlQnk6IG51bGwsCiAgICAgICAgdXBkYXRlVGltZTogbnVsbAogICAgICB9OwogICAgICB0aGlzLmF1dG9HZW5GbGFnID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7CiAgICB9LAoKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAoKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KICAgIHJlc2V0UXVlcnk6IGZ1bmN0aW9uIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBsYW5JZDsKICAgICAgfSk7CiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPT0gMTsKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoOwogICAgfSwKCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVBZGQ6IGZ1bmN0aW9uIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOiuoeWIkiI7CiAgICAgIHRoaXMub3B0VHlwZSA9ICJhZGQiOwogICAgfSwKICAgIC8vIOafpeivouaYjue7huaMiemSruaTjeS9nAogICAgaGFuZGxlVmlldzogZnVuY3Rpb24gaGFuZGxlVmlldyhyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHZhciBwbGFuSWQgPSByb3cucGxhbklkIHx8IHRoaXMuaWRzOwogICAgICAoMCwgX2NoZWNrcGxhbi5nZXRDaGVja3BsYW4pKHBsYW5JZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMyLm9wZW4gPSB0cnVlOwogICAgICAgIF90aGlzMi50aXRsZSA9ICLmn6XnnIvorqHliJLkv6Hmga8iOwogICAgICAgIF90aGlzMi5vcHRUeXBlID0gInZpZXciOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOS/ruaUueaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB2YXIgcGxhbklkID0gcm93LnBsYW5JZCB8fCB0aGlzLmlkczsKICAgICAgKDAsIF9jaGVja3BsYW4uZ2V0Q2hlY2twbGFuKShwbGFuSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzMy5vcGVuID0gdHJ1ZTsKICAgICAgICBfdGhpczMudGl0bGUgPSAi5L+u5pS56K6h5YiSIjsKICAgICAgICBfdGhpczMub3B0VHlwZSA9ICJlZGl0IjsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzNC5mb3JtLnBsYW5JZCAhPSBudWxsKSB7CiAgICAgICAgICAgICgwLCBfY2hlY2twbGFuLnVwZGF0ZUNoZWNrcGxhbikoX3RoaXM0LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX3RoaXM0LiRtb2RhbC5tc2dTdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKCiAgICAgICAgICAgICAgX3RoaXM0Lm9wZW4gPSBmYWxzZTsKCiAgICAgICAgICAgICAgX3RoaXM0LmdldExpc3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAoMCwgX2NoZWNrcGxhbi5hZGRDaGVja3BsYW4pKF90aGlzNC5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzNC4kbW9kYWwubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CgogICAgICAgICAgICAgIF90aGlzNC5vcGVuID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzNC5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRmluaXNoOiBmdW5jdGlvbiBoYW5kbGVGaW5pc2goKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZm9ybS5wbGFuSWQgIT0gbnVsbCAmJiB0aGlzLmZvcm0uc3RhdHVzID09ICdQUkVQQVJFJykgewogICAgICAgIHRoaXMuZm9ybS5zdGF0dXMgPSAnRklOSVNIRUQnOwogICAgICAgICgwLCBfY2hlY2twbGFuLnVwZGF0ZUNoZWNrcGxhbikodGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM1LiRtb2RhbC5tc2dTdWNjZXNzKCLlt7LlkK/nlKgiKTsKCiAgICAgICAgICBfdGhpczUub3BlbiA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzNS5nZXRMaXN0KCk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgX3RoaXM1LmZvcm0uc3RhdHVzID0gJ1BSRVBBUkUnOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRGVGaW5pc2g6IGZ1bmN0aW9uIGhhbmRsZURlRmluaXNoKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmZvcm0ucGxhbklkICE9IG51bGwgJiYgdGhpcy5mb3JtLnN0YXR1cyA9PSAnRklOSVNIRUQnKSB7CiAgICAgICAgdGhpcy5mb3JtLnN0YXR1cyA9ICdQUkVQQVJFJzsKICAgICAgICAoMCwgX2NoZWNrcGxhbi51cGRhdGVDaGVja3BsYW4pKHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNi4kbW9kYWwubXNnU3VjY2Vzcygi5bey5YGc55SoIik7CgogICAgICAgICAgX3RoaXM2Lm9wZW4gPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczYuZ2V0TGlzdCgpOwogICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzNi5mb3JtLnN0YXR1cyA9ICdGSU5JU0hFRCc7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIHBsYW5JZHMgPSByb3cucGxhbklkIHx8IHRoaXMuaWRzOwogICAgICB0aGlzLiRtb2RhbC5jb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTorqHliJLnvJblj7fkuLoiJyArIHBsYW5JZHMgKyAnIueahOaVsOaNrumhue+8nycpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX2NoZWNrcGxhbi5kZWxDaGVja3BsYW4pKHBsYW5JZHMpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczcuZ2V0TGlzdCgpOwoKICAgICAgICBfdGhpczcuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAoKICAgIC8qKiDlr7zlh7rmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUV4cG9ydDogZnVuY3Rpb24gaGFuZGxlRXhwb3J0KCkgewogICAgICB0aGlzLmRvd25sb2FkKCdkdi9jaGVja3BsYW4vZXhwb3J0JywgKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCB0aGlzLnF1ZXJ5UGFyYW1zKSwgImNoZWNrcGxhbl8iLmNvbmNhdChuZXcgRGF0ZSgpLmdldFRpbWUoKSwgIi54bHN4IikpOwogICAgfSwKICAgIC8v6Ieq5Yqo55Sf5oiQ57yW56CBCiAgICBoYW5kbGVBdXRvR2VuQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVBdXRvR2VuQ2hhbmdlKGF1dG9HZW5GbGFnKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgaWYgKGF1dG9HZW5GbGFnKSB7CiAgICAgICAgKDAsIF9ydWxlLmdlbkNvZGUpKCdDSEVDS1BMQU5fQ09ERScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczguZm9ybS5wbGFuQ29kZSA9IHJlc3BvbnNlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9ybS5wbGFuQ29kZSA9IG51bGw7CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":"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","names":["name","dicts","components","Checkmachinery","Checksubject","data","autoGenFlag","optType","loading","ids","single","multiple","showSearch","total","checkplanList","title","open","queryParams","pageNum","pageSize","planCode","planName","startDate","endDate","cycleType","cycleCount","status","form","rules","required","message","trigger","planType","created","methods","getList","cancel","reset","planId","remark","attr1","attr2","attr3","attr4","createBy","createTime","updateBy","updateTime","handleQuery","resetQuery","handleSelectionChange","selection","handleAdd","handleView","row","handleUpdate","submitForm","handleFinish","handleDeFinish","handleDelete","then","catch","handleExport","handleAutoGenChange"],"sourceRoot":"src/views/mes/dv/checkplan","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item label=\"计划编号\" prop=\"planCode\">\n        <el-input\n          v-model=\"queryParams.planCode\"\n          placeholder=\"请输入计划编号\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"计划名称\" prop=\"planName\">\n        <el-input\n          v-model=\"queryParams.planName\"\n          placeholder=\"请输入计划名称\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"计划类型\" prop=\"planType\">\n        <el-select v-model=\"queryParams.planType\" placeholder=\"请选择类型\" clearable>\n          <el-option\n            v-for=\"dict in dict.type.dv_plan_type\"\n            :key=\"dict.value\"\n            :label=\"dict.label\"\n            :value=\"dict.value\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"状态\" prop=\"status\">\n        <el-select v-model=\"queryParams.status\" placeholder=\"请选择状态\" clearable>\n          <el-option\n            v-for=\"dict in dict.type.mes_order_status\"\n            :key=\"dict.value\"\n            :label=\"dict.label\"\n            :value=\"dict.value\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n          v-hasPermi=\"['mes:dv:checkplan:add']\"\n        >新增</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"success\"\n          plain\n          icon=\"el-icon-edit\"\n          size=\"mini\"\n          :disabled=\"single\"\n          @click=\"handleUpdate\"\n          v-hasPermi=\"['mes:dv:checkplan:edit']\"\n        >修改</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n          v-hasPermi=\"['mes:dv:checkplan:remove']\"\n        >删除</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"warning\"\n          plain\n          icon=\"el-icon-download\"\n          size=\"mini\"\n          @click=\"handleExport\"\n          v-hasPermi=\"['mes:dv:checkplan:export']\"\n        >导出</el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"checkplanList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"计划编码\" align=\"center\" prop=\"planCode\" >\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"text\"\n            @click=\"handleView(scope.row)\"\n            v-hasPermi=\"['mes:dv:checkplan:query']\"\n          >{{scope.row.planCode}}</el-button>\n        </template>\n      </el-table-column>      \n      <el-table-column label=\"计划名称\" align=\"center\" width=\"200px\" prop=\"planName\" />\n      <el-table-column label=\"计划类型\" align=\"center\" width=\"120px\" prop=\"planType\">\n        <template slot-scope=\"scope\">\n          <dict-tag :options=\"dict.type.dv_plan_type\" :value=\"scope.row.planType\"/>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"开始日期\" align=\"center\" prop=\"startDate\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span>{{ parseTime(scope.row.startDate, '{y}-{m}-{d}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"结束日期\" align=\"center\" prop=\"endDate\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span>{{ parseTime(scope.row.endDate, '{y}-{m}-{d}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"频率\" align=\"center\" prop=\"cycleType\">        \n        <template slot-scope=\"scope\">\n          {{scope.row.cycleCount}}\n          <dict-tag :options=\"dict.type.mes_cycle_type\" :value=\"scope.row.cycleType\"/>\n        </template>\n      </el-table-column>      \n      <el-table-column label=\"状态\" align=\"center\" prop=\"status\">\n        <template slot-scope=\"scope\">\n          <dict-tag :options=\"dict.type.mes_order_status\" :value=\"scope.row.status\"/>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" width=\"130px\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n            v-if=\"scope.row.status =='PREPARE'\"\n            v-hasPermi=\"['mes:dv:checkplan:edit']\"\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n            v-if=\"scope.row.status =='PREPARE'\"\n            v-hasPermi=\"['mes:dv:checkplan:remove']\"\n          >删除</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleUpdate(scope.row)\"\n            v-if=\"scope.row.status =='FINISHED'\"\n            v-hasPermi=\"['mes:dv:checkplan:edit']\"\n          >停用</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    \n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <!-- 添加或修改设备点检计划头对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"960px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n        <el-row>\n          <el-col :span=\"8\">\n            <el-form-item label=\"计划编码\" prop=\"planCode\">\n              <el-input v-model=\"form.planCode\" placeholder=\"请输入计划编码\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"4\">\n            <el-form-item  label-width=\"80\">\n              <el-switch v-model=\"autoGenFlag\"\n                  active-color=\"#13ce66\"\n                  active-text=\"自动生成\"\n                  @change=\"handleAutoGenChange(autoGenFlag)\" v-if=\"optType != 'view'\">               \n              </el-switch>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"计划名称\" prop=\"planName\">\n              <el-input v-model=\"form.planName\" placeholder=\"请输入计划名称\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"计划类型\"  prop=\"planType\" >\n                <el-select v-model=\"form.planType\" placeholder=\"请选择计划类型\">\n                  <el-option\n                    v-for=\"dict in dict.type.dv_plan_type\"\n                    :key=\"dict.value\"\n                    :label=\"dict.label\"\n                    :value=\"dict.value\"\n                  ></el-option>\n                </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"频率\" prop=\"cycleCount\">\n              <el-input-number :min=\"1\" :step=\"1\" v-model=\"form.cycleCount\" placeholder=\"请输入次数\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"4\" >\n            <el-form-item  prop=\"cycleType\" label-width=\"80\">\n                <el-select v-model=\"form.cycleType\" placeholder=\"请选择频率\">\n                  <el-option\n                    v-for=\"dict in dict.type.mes_cycle_type\"\n                    :key=\"dict.value\"\n                    :label=\"dict.label\"\n                    :value=\"dict.value\"\n                  ></el-option>\n                </el-select>\n              </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"8\">\n            <el-form-item label=\"开始日期\" prop=\"startDate\">\n              <el-date-picker clearable\n                v-model=\"form.startDate\"\n                type=\"date\"\n                value-format=\"yyyy-MM-dd\"\n                placeholder=\"请选择开始日期\">\n              </el-date-picker>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"结束日期\" prop=\"endDate\">\n              <el-date-picker clearable\n                v-model=\"form.endDate\"\n                type=\"date\"\n                value-format=\"yyyy-MM-dd\"\n                placeholder=\"请选择结束日期\">\n              </el-date-picker>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"状态\" prop=\"status\">\n              <el-select v-model=\"form.status\" disabled>\n                <el-option\n                  v-for=\"dict in dict.type.mes_order_status\"\n                  :key=\"dict.value\"\n                  :label=\"dict.label\"\n                  :value=\"dict.value\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"备注\" prop=\"remark\">\n              <el-input v-model=\"form.remark\" type=\"textarea\" placeholder=\"请输入内容\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <el-tabs type=\"border-card\" v-if=\"form.planId != null\">        \n        <el-tab-pane label=\"设备清单\"> \n          <Checkmachinery ref=\"machinerylist\" :optType=\"optType\" :planId=\"form.planId\" ></Checkmachinery>        \n        </el-tab-pane>\n        <el-tab-pane :label=\"form.planType=='CHECK'?'点检项目':'保养项目'\">\n          <Checksubject ref=\"subjectlist\" :optType=\"optType\" :planId=\"form.planId\" ></Checksubject>\n        </el-tab-pane>\n      </el-tabs>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"cancel\" v-if=\"optType =='view' || form.status !='PREPARE' \">返回</el-button>\n        <el-button type=\"primary\" @click=\"submitForm\" v-if=\"form.status =='PREPARE' && optType !='view' \">保存</el-button>\n        <el-button type=\"success\" @click=\"handleFinish\" v-if=\"form.status =='PREPARE' && optType !='view'  && form.planId !=null\">启用</el-button>\n        <el-button type=\"success\" @click=\"handleDeFinish\" v-if=\"form.status =='FINISHED' && optType !='view'  && form.planId !=null\">停用</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { listCheckplan, getCheckplan, delCheckplan, addCheckplan, updateCheckplan } from \"@/api/mes/dv/checkplan\";\nimport Checkmachinery from \"./machinery.vue\"\nimport Checksubject from \"./subject.vue\"\nimport {genCode} from \"@/api/system/autocode/rule\"\nexport default {\n  name: \"Checkplan\",\n  dicts: ['mes_cycle_type','mes_order_status','dv_plan_type'],\n  components:{Checkmachinery,Checksubject},\n  data() {\n    return {\n      autoGenFlag: false,\n      optType: null,\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 设备点检计划头表格数据\n      checkplanList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        planCode: null,\n        planName: null,\n        startDate: null,\n        endDate: null,        \n        cycleType: null,\n        cycleCount: null,\n        status: null\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        planCode: [\n          { required: true, message: \"计划编码不能为空\", trigger: \"blur\" }\n        ],\n        planName: [\n          { required: true, message: \"计划名称不能为空\", trigger: \"blur\" }\n        ],\n        planType:[\n          { required: true, message: \"计划类型不能为空\", trigger: \"blur\" }\n        ],\n        cycleType: [\n          { required: true, message: \"请选择点检频率\", trigger: \"blur\" }\n        ],\n        cycleCount: [\n          { required: true, message: \"请输入点检次数\", trigger: \"blur\" }\n        ],\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    /** 查询设备点检计划头列表 */\n    getList() {\n      this.loading = true;\n      listCheckplan(this.queryParams).then(response => {\n        this.checkplanList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        planId: null,\n        planCode: null,\n        planName: null,\n        planType: null,\n        startDate: null,\n        endDate: null,\n        cycleType: null,\n        cycleCount: null,\n        status: 'PREPARE',\n        remark: null,\n        attr1: null,\n        attr2: null,\n        attr3: null,\n        attr4: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null\n      };\n      this.autoGenFlag = false;\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.planId)\n      this.single = selection.length!==1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加计划\";\n      this.optType = \"add\";\n    },\n    // 查询明细按钮操作\n    handleView(row){\n      this.reset();\n      const planId = row.planId || this.ids;\n      getCheckplan(planId).then(response => {\n        this.form = response.data;\n        this.open = true;\n        this.title = \"查看计划信息\";\n        this.optType = \"view\";\n      });\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      const planId = row.planId || this.ids\n      getCheckplan(planId).then(response => {\n        this.form = response.data;\n        this.open = true;\n        this.title = \"修改计划\";\n        this.optType = \"edit\";\n      });\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          if (this.form.planId != null) {\n            updateCheckplan(this.form).then(response => {\n              this.$modal.msgSuccess(\"修改成功\");\n              this.open = false;\n              this.getList();\n            });\n          } else {\n            addCheckplan(this.form).then(response => {\n              this.$modal.msgSuccess(\"新增成功\");\n              this.open = false;\n              this.getList();\n            });\n          }\n        }\n      });\n    },\n    handleFinish(){\n      if(this.form.planId != null && this.form.status =='PREPARE'){\n        this.form.status='FINISHED';\n        updateCheckplan(this.form).then(response => {                \n                this.$modal.msgSuccess(\"已启用\");\n                this.open = false;\n                this.getList();\n        },err =>{\n          this.form.status='PREPARE';\n        });\n      }\n    },\n    handleDeFinish(){\n      if(this.form.planId != null && this.form.status =='FINISHED'){\n        this.form.status='PREPARE';\n        updateCheckplan(this.form).then(response => {                \n                this.$modal.msgSuccess(\"已停用\");\n                this.open = false;\n                this.getList();\n        },err =>{\n          this.form.status='FINISHED';\n        });\n      }\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const planIds = row.planId || this.ids;\n      this.$modal.confirm('是否确认删除计划编号为\"' + planIds + '\"的数据项？').then(function() {\n        return delCheckplan(planIds);\n      }).then(() => {\n        this.getList();\n        this.$modal.msgSuccess(\"删除成功\");\n      }).catch(() => {});\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      this.download('dv/checkplan/export', {\n        ...this.queryParams\n      }, `checkplan_${new Date().getTime()}.xlsx`)\n    },\n    //自动生成编码\n    handleAutoGenChange(autoGenFlag){\n      if(autoGenFlag){\n        genCode('CHECKPLAN_CODE').then(response =>{\n          this.form.planCode = response;\n        });\n      }else{\n        this.form.planCode = null;\n      }\n    }\n  }\n};\n</script>\n"]}]}